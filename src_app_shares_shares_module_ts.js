"use strict";(self.webpackChunkmifosx_web_app=self.webpackChunkmifosx_web_app||[]).push([["src_app_shares_shares_module_ts"],{99311:(es,B,l)=>{l.r(B),l.d(B,{SharesModule:()=>ts});var m=l(83689),G=l(13450);class et{constructor(o){this.setOptions(o),this.setButtons(o)}get singleButtons(){return this.buttonsArray}get options(){return this.optionArray}setButtons(o){switch(o){case"Active":this.buttonsArray=[{name:"Apply Additional Shares",icon:"arrow-right",taskPermissionName:"APPLYADDITIONAL_SHAREACCOUNT"},{name:"Approve Additional Shares",icon:"arrow-right",taskPermissionName:"APPROVEADDITIONAL_SHAREACCOUNT"},{name:"Reject Additional Shares",icon:"arrow-left",taskPermissionName:"REJECTADDITIONAL_SHAREACCOUNT"},{name:"Redeem Shares",icon:"arrow-left",taskPermissionName:"WITHDRAW_SAVINGSACCOUNT"}];break;case"Submitted and pending approval":this.buttonsArray=[{name:"Modify Application",icon:"pencil",taskPermissionName:"UPDATE_SHAREACCOUNT"},{name:"Approve",icon:"check",taskPermissionName:"APPROVE_SHAREACCOUNT"}];break;case"Approved":this.buttonsArray=[{name:"Undo Approval",icon:"undo",taskPermissionName:"APPROVALUNDO_SHAREACCOUNT"},{name:"Activate",icon:"check",taskPermissionName:"ACTIVATE_SHAREACCOUNT"}];break;default:this.buttonsArray=[]}}setOptions(o){switch(o){case"Active":this.optionArray=[{name:"Close",taskPermissionName:"CLOSE_SHAREACCOUNT"}];break;case"Submitted and pending approval":this.optionArray=[{name:"Reject",taskPermissionName:"REJECT_SHAREACCOUNT"},{name:"Delete",taskPermissionName:"DELETE_SHAREACCOUNT"}];break;default:this.optionArray=[]}}addOption(o){this.optionArray.push(o)}removeButton(o){const s=this.buttonsArray.map(a=>a.name).indexOf(o);this.buttonsArray.splice(s,1)}}var t=l(94650),O=l(80529);let f=(()=>{class e{constructor(n){this.http=n}getSharesAccountData(n,s){const a=(new O.LE).set("template",s.toString());return this.http.get(`/accounts/share/${n}`,{params:a})}getSharesAccountTemplate(n,s){let a=(new O.LE).set("clientId",n);return a=s?a.set("productId",s):a,this.http.get("/accounts/share/template",{params:a})}createSharesAccount(n){return this.http.post("/accounts/share",n)}updateSharesAccount(n,s){return this.http.put(`/accounts/share/${n}`,s)}deleteSharesAccount(n){return this.http.delete(`/accounts/share/${n}`)}executeSharesAccountCommand(n,s,a){const r=(new O.LE).set("command",s);return this.http.post(`/accounts/share/${n}`,a,{params:r})}static#t=this.\u0275fac=function(s){return new(s||e)(t.LFG(O.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Z=l(65412),d=l(36895),v=l(92216),U=l(4859),h=l(73546),nt=l(97392),Y=l(28255),I=l(3848),P=l(10266),$=l(15705),at=l(82662),z=l(30998),g=l(49274),k=l(87197),Q=l(39122),y=l(74929);function st(e,o){if(1&e&&(t.TgZ(0,"span",26),t._uU(1,"\n                  "),t._UZ(2,"mifosx-account-number",27),t._uU(3,"\n                "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.s9C("accountNo",n.sharesAccountData.clientAccountNo)}}function ot(e,o){if(1&e&&(t.TgZ(0,"tr"),t._uU(1,"\n                      "),t.TgZ(2,"td"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n                      "),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"translateKey"),t.qZA(),t._uU(9,"\n                    "),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,3,"labels.inputs.Lockin Period")," :"),t.xp6(4),t.AsE("\n                        ",n.sharesAccountData.lockinPeriod,"\n                        ",t.xi3(8,5,n.sharesAccountData.lockPeriodTypeEnum.value,"catalogs"),"\n                      ")}}function rt(e,o){if(1&e&&(t.TgZ(0,"button",28),t._uU(1,"\n                "),t.TgZ(2,"mat-icon",29),t._uU(3,"\n                  "),t._UZ(4,"fa-icon",30),t._uU(5,"\n                "),t.qZA(),t._uU(6,"\n              "),t.qZA()),2&e){t.oxw();const n=t.MAs(83);t.Q6J("matMenuTriggerFor",n)}}function ct(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.doAction(a.name))}),t._uU(1,"\n          "),t.TgZ(2,"mat-icon",33),t._uU(3,"\n            "),t._UZ(4,"fa-icon",34),t._uU(5,"\n          "),t.qZA(),t._uU(6,"\n          "),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._uU(10,"\n        "),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.xp6(4),t.s9C("icon",n.icon),t.xp6(4),t.Oqu(t.lcZ(9,2,"labels.menus."+n.name))}}function it(e,o){if(1&e&&(t.ynx(0),t._uU(1,"\n        "),t.YNc(2,ct,11,4,"button",31),t._uU(3,"\n      "),t.BQk()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("mifosxHasPermission",n.taskPermissionName)}}function ut(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.doAction(a.name))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij("\n              ",t.lcZ(2,1,"labels.menus."+n.name),"\n            ")}}function lt(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1,"\n            "),t.YNc(2,ut,3,3,"button",31),t._uU(3,"\n          "),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("mifosxHasPermission",n.taskPermissionName)}}function mt(e,o){if(1&e&&(t.ynx(0),t._uU(1,"\n        "),t.TgZ(2,"button",35),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n        "),t.TgZ(6,"mat-menu",null,36),t._uU(8,"\n          "),t.YNc(9,lt,4,1,"span",21),t._uU(10,"\n        "),t.qZA(),t._uU(11,"\n      "),t.BQk()),2&e){const n=t.MAs(7),s=t.oxw();t.xp6(2),t.Q6J("matMenuTriggerFor",n),t.xp6(1),t.Oqu(t.lcZ(4,3,"labels.menus.More")),t.xp6(6),t.Q6J("ngForOf",s.buttonConfig.options)}}const pt=function(){return["./general"]};function _t(e,o){if(1&e&&(t.TgZ(0,"a",37,38),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e){const n=t.MAs(1);t.Q6J("routerLink",t.DdM(5,pt))("active",n.isActive),t.xp6(2),t.hij("\n        ",t.lcZ(3,3,"labels.inputs.General"),"\n      ")}}const ht=function(){return["./transactions"]};function dt(e,o){if(1&e&&(t.TgZ(0,"a",37,39),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e){const n=t.MAs(1);t.Q6J("routerLink",t.DdM(5,ht))("active",n.isActive),t.xp6(2),t.hij("\n        ",t.lcZ(3,3,"labels.inputs.Transactions"),"\n      ")}}const At=function(){return["./charges"]};function gt(e,o){if(1&e&&(t.TgZ(0,"a",37,40),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e){const n=t.MAs(1);t.Q6J("routerLink",t.DdM(5,At))("active",n.isActive),t.xp6(2),t.hij("\n        ",t.lcZ(3,3,"labels.inputs.Charges"),"\n      ")}}const Ut=function(){return["./dividends"]};function ft(e,o){if(1&e&&(t.TgZ(0,"a",37,41),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e){const n=t.MAs(1);t.Q6J("routerLink",t.DdM(5,Ut))("active",n.isActive),t.xp6(2),t.hij("\n        ",t.lcZ(3,3,"labels.inputs.Dividends"),"\n      ")}}let Zt=(()=>{class e{constructor(n,s,a,r){this.route=n,this.router=s,this.sharesService=a,this.dialog=r,this.route.data.subscribe(c=>{this.sharesAccountData=c.sharesAccountData})}ngOnInit(){this.setConditionalButtons(),this.router.url.includes("clients")?this.entityType="Client":this.router.url.includes("groups")?this.entityType="Group":this.router.url.includes("centers")&&(this.entityType="Center")}setConditionalButtons(){const n=this.sharesAccountData.status.value;if(this.buttonConfig=new et(n),this.sharesAccountData.charges&&this.sharesAccountData.charges.forEach(a=>{"Annual fee - INR"===a.name&&this.buttonConfig.addOption({name:"Apply Anuual Fees",taskPermissionName:"APPLYANNUALFEE_SAVINGSACCOUNT"})}),"Active"===n){let a=!1;this.sharesAccountData.purchasedShares.forEach(r=>{"purchasedSharesStatusType.applied"===r.status.code&&"purchasedSharesType.purchased"===r.type.code&&(a=!0)}),a||(this.buttonConfig.removeButton("Approve Additional Shares"),this.buttonConfig.removeButton("Reject Additional Shares"))}}doAction(n){switch(n){case"Approve":case"Reject":case"Close":case"Activate":case"Undo Approval":case"Apply Additional Shares":case"Redeem Shares":case"Approve Additional Shares":case"Reject Additional Shares":this.router.navigate([`actions/${n}`],{relativeTo:this.route});break;case"Modify Application":this.router.navigate(["edit"],{relativeTo:this.route});break;case"Delete":this.deleteSharesAccount()}}deleteSharesAccount(){this.dialog.open(G.F,{data:{deleteContext:`shares account with id: ${this.sharesAccountData.id}`}}).afterClosed().subscribe(s=>{s.delete&&this.sharesService.deleteSharesAccount(this.sharesAccountData.id).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(m.gz),t.Y36(m.F0),t.Y36(f),t.Y36(Z.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-view"]],decls:112,vars:35,consts:[[1,"account-card"],[1,"header","layout-column"],[1,"header-title-group"],[1,"profile-image-container"],["mat-card-md-image","","src","assets/images/shares_account_placeholder.png",1,"profile-image",3,"matTooltip"],[1,"mat-typography","account-card-title"],[1,"layout-row","responsive-column"],[1,"flex-60"],[1,"fa","fa-stop",3,"ngClass","matTooltip"],[1,"m-r-5"],[3,"textValue"],["display","left",3,"accountNo"],[1,"shares-overview"],[1,"m-r-10"],["class","m-l-10",4,"ngIf"],[1,"account-overview"],[4,"ngIf"],[1,"flex-auto"],[1,"flex-40"],["mat-icon-button","","aria-label","Share account actions","yPosition","below",3,"matMenuTriggerFor",4,"ngIf"],["accountMenu","matMenu"],[4,"ngFor","ngForOf"],[1,"content"],["mat-tab-nav-bar","",1,"navigation-tabs",3,"tabPanel"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"mifosxHasPermission"],["tabPanel",""],[1,"m-l-10"],[3,"accountNo"],["mat-icon-button","","aria-label","Share account actions","yPosition","below",3,"matMenuTriggerFor"],["matListIcon","",1,"actions-menu"],["icon","bars","size","sm"],["mat-menu-item","",3,"click",4,"mifosxHasPermission"],["mat-menu-item","",3,"click"],["matListIcon",""],["size","sm",3,"icon"],["mat-menu-item","",3,"matMenuTriggerFor"],["More","matMenu"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["general","routerLinkActive"],["transactions","routerLinkActive"],["charges","routerLinkActive"],["dividends","routerLinkActive"]],template:function(s,a){if(1&s&&(t.TgZ(0,"mat-card",0),t._uU(1,"\n  "),t.TgZ(2,"mat-card-header",1),t._uU(3,"\n    "),t.TgZ(4,"mat-card-title-group",2),t._uU(5,"\n      "),t.TgZ(6,"div",3),t._uU(7,"\n        "),t.TgZ(8,"div"),t._uU(9,"\n          "),t._UZ(10,"img",4),t.ALo(11,"translate"),t._uU(12,"\n        "),t.qZA(),t._uU(13,"\n      "),t.qZA(),t._uU(14,"\n\n      "),t.TgZ(15,"div",5),t._uU(16,"\n        "),t.TgZ(17,"mat-card-title"),t._uU(18,"\n          "),t.TgZ(19,"div",6),t._uU(20,"\n            "),t.TgZ(21,"div",7),t._uU(22,"\n              "),t.TgZ(23,"h3"),t._uU(24,"\n                "),t._UZ(25,"i",8),t.ALo(26,"statusLookup"),t._uU(27,"\n                "),t.TgZ(28,"span",9),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._uU(31,"\n                "),t.TgZ(32,"span",9),t._UZ(33,"mifosx-long-text",10),t.qZA(),t._uU(34,"\n                "),t._UZ(35,"mifosx-account-number",11),t._uU(36,"\n              "),t.qZA(),t._uU(37,"\n              "),t.TgZ(38,"span",12),t._uU(39,"\n                "),t.TgZ(40,"span",13),t._uU(41),t.ALo(42,"translate"),t.ALo(43,"translate"),t.qZA(),t._uU(44),t.YNc(45,st,4,1,"span",14),t._uU(46,"\n              "),t.qZA(),t._uU(47,"\n              "),t.TgZ(48,"div"),t._uU(49,"\n                "),t.TgZ(50,"table",15),t._uU(51,"\n                  "),t.TgZ(52,"tbody"),t._uU(53,"\n                    "),t.TgZ(54,"tr"),t._uU(55,"\n                      "),t.TgZ(56,"td"),t._uU(57),t.ALo(58,"translate"),t.qZA(),t._uU(59,"\n                      "),t.TgZ(60,"td"),t._uU(61),t.ALo(62,"formatNumber"),t.qZA(),t._uU(63,"\n                    "),t.qZA(),t._uU(64,"\n                    "),t.YNc(65,ot,10,8,"tr",16),t._uU(66,"\n                  "),t.qZA(),t._uU(67,"\n                "),t.qZA(),t._uU(68,"\n              "),t.qZA(),t._uU(69,"\n            "),t.qZA(),t._uU(70,"\n\n            "),t._UZ(71,"span",17),t._uU(72,"\n            "),t.TgZ(73,"div",18),t._uU(74,"\n              "),t.YNc(75,rt,7,1,"button",19),t._uU(76,"\n            "),t.qZA(),t._uU(77,"\n          "),t.qZA(),t._uU(78,"\n        "),t.qZA(),t._uU(79,"\n      "),t.qZA(),t._uU(80,"\n    "),t.qZA(),t._uU(81,"\n\n    "),t.TgZ(82,"mat-menu",null,20),t._uU(84,"\n      "),t.YNc(85,it,4,1,"ng-container",21),t._uU(86,"\n\n      "),t.YNc(87,mt,12,5,"ng-container",16),t._uU(88,"\n    "),t.qZA(),t._uU(89,"\n  "),t.qZA(),t._uU(90,"\n\n  "),t.TgZ(91,"mat-card-content",22),t._uU(92,"\n    "),t.TgZ(93,"nav",23),t._uU(94,"\n      "),t.YNc(95,_t,4,6,"a",24),t._uU(96,"\n      "),t.YNc(97,dt,4,6,"a",24),t._uU(98,"\n      "),t.YNc(99,gt,4,6,"a",24),t._uU(100,"\n      "),t.YNc(101,ft,4,6,"a",24),t._uU(102,"\n    "),t.qZA(),t._uU(103,"\n\n    "),t.TgZ(104,"mat-tab-nav-panel",null,25),t._uU(106,"\n      "),t._UZ(107,"router-outlet"),t._uU(108,"\n    "),t.qZA(),t._uU(109,"\n  "),t.qZA(),t._uU(110,"\n"),t.qZA(),t._uU(111,"\n")),2&s){const r=t.MAs(105);t.xp6(10),t.s9C("matTooltip",t.lcZ(11,21,"tooltips.Shares Account")),t.xp6(15),t.Q6J("ngClass",t.lcZ(26,23,a.sharesAccountData.status.code))("matTooltip",a.sharesAccountData.status.value),t.xp6(4),t.hij("",t.lcZ(30,25,"labels.inputs.Share Product")," :"),t.xp6(4),t.s9C("textValue",a.sharesAccountData.productName),t.xp6(2),t.s9C("accountNo",a.sharesAccountData.accountNo),t.xp6(6),t.AsE("",t.lcZ(42,27,"labels.text."+a.entityType)," ",t.lcZ(43,29,"labels.inputs.name")," :"),t.xp6(3),t.hij("",a.sharesAccountData.clientName||a.sharesAccountData.groupName,"\n                "),t.xp6(1),t.Q6J("ngIf",a.sharesAccountData.clientAccountNo),t.xp6(12),t.hij("",t.lcZ(58,31,"labels.inputs.Current Market Price")," :"),t.xp6(4),t.Oqu(t.lcZ(62,33,a.sharesAccountData.currentMarketPrice)),t.xp6(4),t.Q6J("ngIf",a.sharesAccountData.lockinPeriod),t.xp6(10),t.Q6J("ngIf",a.buttonConfig.singleButtons.length>0),t.xp6(10),t.Q6J("ngForOf",a.buttonConfig.singleButtons),t.xp6(2),t.Q6J("ngIf",a.buttonConfig.options.length),t.xp6(6),t.Q6J("tabPanel",r),t.xp6(2),t.Q6J("mifosxHasPermission","READ_SHAREACCOUNTPURCHASE"),t.xp6(2),t.Q6J("mifosxHasPermission","READ_SHAREACCOUNTPURCHASE"),t.xp6(2),t.Q6J("mifosxHasPermission","READ_SHAREACCOUNTCHARGE"),t.xp6(2),t.Q6J("mifosxHasPermission","READ_SHAREACCOUNTDIVIDENDS")}},dependencies:[d.mk,d.sg,d.O5,v.BN,U.RK,h.a8,h.dn,h.dk,h.nc,h.n5,h.C1,nt.Hw,Y.VK,Y.OP,Y.p6,I.BU,I.sW,I.Nj,P.gM,$.t,at.x,z.A,m.lC,m.rH,m.Od,g.X$,k.F,Q.w,y.X],styles:[".shares-overview[_ngcontent-%COMP%]{font-size:14px}.account-overview[_ngcontent-%COMP%]{min-width:60%;font-weight:400}"]})}return e})();var u=l(30671),q=l(35769);function Tt(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Transaction Date")))}function bt(e,o){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.purchasedDate))}}function Ct(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Transaction Type")))}function xt(e,o){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.AsE("\n          ",n.type.value,"\n          ","Charge Payment"!==n.type.value?"("+n.status.value+")":"","\n        ")}}function vt(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Total Shares")))}function St(e,o){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.numberOfShares)}}function qt(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Purhcased/Redeemed Price")))}function Dt(e,o){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=o.$implicit,s=t.oxw();t.xp6(1),t.AsE("\n          ",s.shareAccountData.currency.displaySymbol,"\xa0",n.purchasedPrice,"\n        ")}}function yt(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Charge Amount")))}function Ot(e,o){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=o.$implicit,s=t.oxw();t.xp6(1),t.AsE("\n          ",s.shareAccountData.currency.displaySymbol,"\xa0","Charge Payment"===n.type.value?n.amount:n.chargeAmount,"\n        ")}}function Pt(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Amount Recieved/Returned")))}function Nt(e,o){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=o.$implicit,s=t.oxw();t.xp6(1),t.AsE("\n          ",s.shareAccountData.currency.displaySymbol,"\xa0",n.amount,"\n        ")}}function Lt(e,o){1&e&&t._UZ(0,"tr",16)}function wt(e,o){1&e&&t._UZ(0,"tr",17)}let Ft=(()=>{class e{constructor(n){this.route=n,this.displayedColumns=["transactionDate","transactionType","totalShares","purchasedOrRedeemedPrice","chargeAmount","amountRecievedOrReturned"],this.route.parent.data.subscribe(s=>{this.shareAccountData=s.sharesAccountData,this.transactionsData=this.shareAccountData.purchasedShares})}ngOnInit(){this.dataSource=new u.by(this.transactionsData)}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(m.gz))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-transactions-tab"]],decls:62,vars:6,consts:[[1,"tab-container","mat-typography"],[1,"m-b-10"],[1,"mat-elevation-z1","m-b-25"],["mat-table","",3,"dataSource"],["matColumnDef","transactionDate"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","transactionType"],["matColumnDef","totalShares"],["matColumnDef","purchasedOrRedeemedPrice"],["matColumnDef","chargeAmount"],["matColumnDef","amountRecievedOrReturned"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(s,a){1&s&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"h3"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n  "),t.qZA(),t._uU(8,"\n\n  "),t.TgZ(9,"div",2),t._uU(10,"\n    "),t.TgZ(11,"table",3),t._uU(12,"\n      "),t.ynx(13,4),t._uU(14,"\n        "),t.YNc(15,Tt,3,3,"th",5),t._uU(16,"\n        "),t.YNc(17,bt,3,3,"td",6),t._uU(18,"\n      "),t.BQk(),t._uU(19,"\n\n      "),t.ynx(20,7),t._uU(21,"\n        "),t.YNc(22,Ct,3,3,"th",5),t._uU(23,"\n        "),t.YNc(24,xt,2,2,"td",6),t._uU(25,"\n      "),t.BQk(),t._uU(26,"\n\n      "),t.ynx(27,8),t._uU(28,"\n        "),t.YNc(29,vt,3,3,"th",5),t._uU(30,"\n        "),t.YNc(31,St,2,1,"td",6),t._uU(32,"\n      "),t.BQk(),t._uU(33,"\n\n      "),t.ynx(34,9),t._uU(35,"\n        "),t.YNc(36,qt,3,3,"th",5),t._uU(37,"\n        "),t.YNc(38,Dt,2,2,"td",6),t._uU(39,"\n      "),t.BQk(),t._uU(40,"\n\n      "),t.ynx(41,10),t._uU(42,"\n        "),t.YNc(43,yt,3,3,"th",5),t._uU(44,"\n        "),t.YNc(45,Ot,2,2,"td",6),t._uU(46,"\n      "),t.BQk(),t._uU(47,"\n\n      "),t.ynx(48,11),t._uU(49,"\n        "),t.YNc(50,Pt,3,3,"th",5),t._uU(51,"\n        "),t.YNc(52,Nt,2,2,"td",6),t._uU(53,"\n      "),t.BQk(),t._uU(54,"\n\n      "),t.YNc(55,Lt,1,0,"tr",12),t._uU(56,"\n      "),t.YNc(57,wt,1,0,"tr",13),t._uU(58,"\n    "),t.qZA(),t._uU(59,"\n  "),t.qZA(),t._uU(60,"\n"),t.qZA(),t._uU(61,"\n")),2&s&&(t.xp6(5),t.Oqu(t.lcZ(6,4,"labels.heading.All Transactions")),t.xp6(6),t.Q6J("dataSource",a.dataSource),t.xp6(44),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",a.displayedColumns))},dependencies:[u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,g.X$,q.E],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]})}return e})();function Yt(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.name")))}function It(e,o){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.name)}}function kt(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Fee/Penalty")))}function Qt(e,o){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(!0===n.penalty?"Penalty":"Fee")}}function Jt(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Payment Due At")))}function Mt(e,o){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"translateKey"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,n.chargeTimeType.value,"catalogs"))}}function Rt(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Calculation Type")))}function Et(e,o){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"translateKey"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,n.chargeCalculationType.value,"catalogs"))}}function jt(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Due")))}function Ht(e,o){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n          ",t.gM2(2,1,n.amount,n.currency.code,"symbol-narrow","1.2-2"),"\n        ")}}function Bt(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Paid")))}function Gt(e,o){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n          ",t.gM2(2,1,n.amountPaid,n.currency.code,"symbol-narrow","1.2-2"),"\n        ")}}function $t(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Waived")))}function zt(e,o){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n          ",t.gM2(2,1,n.amountWaived,n.currency.code,"symbol-narrow","1.2-2"),"\n        ")}}function Xt(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Outstanding")))}function Vt(e,o){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n          ",t.gM2(2,1,n.amountOutstanding,n.currency.code,"symbol-narrow","1.2-2"),"\n        ")}}function Kt(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Actions")))}function Wt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(a){t.CHM(n);const r=t.oxw(2).$implicit,c=t.oxw();return c.routeEdit(a),t.KtG(c.editCharge(r))}),t.ALo(1,"translate"),t._uU(2,"\n              "),t._UZ(3,"i",23),t._uU(4,"\n            "),t.qZA()}2&e&&t.s9C("matTooltip",t.lcZ(1,1,"tooltips.Edit Charge"))}function te(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(a){t.CHM(n);const r=t.oxw(2).$implicit,c=t.oxw();return c.routeEdit(a),t.KtG(c.deleteCharge(r.id))}),t.ALo(1,"translate"),t._uU(2,"\n              "),t._UZ(3,"i",25),t._uU(4,"\n            "),t.qZA()}2&e&&t.s9C("matTooltip",t.lcZ(1,1,"tooltips.Delete Charge"))}function ee(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"\n            "),t.YNc(2,Wt,5,3,"button",20),t._uU(3,"\n            "),t.YNc(4,te,5,3,"button",21),t._uU(5,"\n          "),t.qZA()),2&e&&(t.xp6(2),t.Q6J("mifosxHasPermission","UPDATE_SHARESACCOUNTCHARGE"),t.xp6(2),t.Q6J("mifosxHasPermission","DELETE_SHARESACCOUNTCHARGE"))}function ne(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(a){t.CHM(n);const r=t.oxw(2).$implicit,c=t.oxw();return c.routeEdit(a),t.KtG(c.payCharge(r.id))}),t.ALo(1,"translate"),t._uU(2,"\n              "),t._UZ(3,"i",26),t._uU(4,"\n            "),t.qZA()}2&e&&t.s9C("matTooltip",t.lcZ(1,1,"tooltips.Pay Charge"))}function ae(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(a){t.CHM(n);const r=t.oxw(2).$implicit,c=t.oxw();return c.routeEdit(a),t.KtG(c.waiveCharge(r.id))}),t.ALo(1,"translate"),t._uU(2,"\n              "),t._UZ(3,"i",27),t._uU(4,"\n            "),t.qZA()}2&e&&t.s9C("matTooltip",t.lcZ(1,1,"tooltips.Waive Charge"))}function se(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"\n            "),t.YNc(2,ne,5,3,"button",20),t._uU(3,"\n            "),t.YNc(4,ae,5,3,"button",20),t._uU(5,"\n          "),t.qZA()),2&e&&(t.xp6(2),t.Q6J("mifosxHasPermission","PAY_SHARESACCOUNTCHARGE"),t.xp6(2),t.Q6J("mifosxHasPermission","WAIVE_SHARESACCOUNTCHARGE"))}function oe(e,o){if(1&e&&(t.TgZ(0,"td",18),t._uU(1,"\n          "),t.YNc(2,ee,6,2,"span",19),t._uU(3,"\n          "),t.YNc(4,se,6,2,"span",19),t._uU(5,"\n        "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf","Submitted and pending approval"===n.sharesAccountData.status.value),t.xp6(2),t.Q6J("ngIf","Active"===n.sharesAccountData.status.value)}}function re(e,o){1&e&&t._UZ(0,"tr",28)}function ce(e,o){1&e&&t._UZ(0,"tr",29)}let ie=(()=>{class e{constructor(n){this.route=n,this.displayedColumns=["name","feeOrPenalty","paymentDueAt","calculationType","due","paid","waived","outstanding","actions"],this.route.parent.data.subscribe(s=>{this.sharesAccountData=s.sharesAccountData,this.chargesData=this.sharesAccountData.charges})}ngOnInit(){const n=this.chargesData?this.chargesData.filter(s=>s.isActive):[];this.dataSource=new u.by(n)}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(m.gz))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-charges-tab"]],decls:83,vars:6,consts:[[1,"tab-container","mat-typography"],[1,"m-b-10"],[1,"mat-elevation-z1","m-b-25"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","feeOrPenalty"],["matColumnDef","paymentDueAt"],["matColumnDef","calculationType"],["matColumnDef","due"],["matColumnDef","paid"],["matColumnDef","waived"],["matColumnDef","outstanding"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["class","account-action-button","mat-raised-button","","color","primary",3,"matTooltip","click",4,"mifosxHasPermission"],["class","account-action-button","mat-raised-button","","color","warn",3,"matTooltip","click",4,"mifosxHasPermission"],["mat-raised-button","","color","primary",1,"account-action-button",3,"matTooltip","click"],[1,"fa","fa-pencil"],["mat-raised-button","","color","warn",1,"account-action-button",3,"matTooltip","click"],[1,"fa","fa-trash"],[1,"fa","fa-dollar"],[1,"fa","fa-flag"],["mat-header-row",""],["mat-row",""]],template:function(s,a){1&s&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"h3"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n  "),t.qZA(),t._uU(8,"\n\n  "),t.TgZ(9,"div",2),t._uU(10,"\n    "),t.TgZ(11,"table",3),t._uU(12,"\n      "),t.ynx(13,4),t._uU(14,"\n        "),t.YNc(15,Yt,3,3,"th",5),t._uU(16,"\n        "),t.YNc(17,It,2,1,"td",6),t._uU(18,"\n      "),t.BQk(),t._uU(19,"\n\n      "),t.ynx(20,7),t._uU(21,"\n        "),t.YNc(22,kt,3,3,"th",5),t._uU(23,"\n        "),t.YNc(24,Qt,2,1,"td",6),t._uU(25,"\n      "),t.BQk(),t._uU(26,"\n\n      "),t.ynx(27,8),t._uU(28,"\n        "),t.YNc(29,Jt,3,3,"th",5),t._uU(30,"\n        "),t.YNc(31,Mt,3,4,"td",6),t._uU(32,"\n      "),t.BQk(),t._uU(33,"\n\n      "),t.ynx(34,9),t._uU(35,"\n        "),t.YNc(36,Rt,3,3,"th",5),t._uU(37,"\n        "),t.YNc(38,Et,3,4,"td",6),t._uU(39,"\n      "),t.BQk(),t._uU(40,"\n\n      "),t.ynx(41,10),t._uU(42,"\n        "),t.YNc(43,jt,3,3,"th",5),t._uU(44,"\n        "),t.YNc(45,Ht,3,6,"td",6),t._uU(46,"\n      "),t.BQk(),t._uU(47,"\n\n      "),t.ynx(48,11),t._uU(49,"\n        "),t.YNc(50,Bt,3,3,"th",5),t._uU(51,"\n        "),t.YNc(52,Gt,3,6,"td",6),t._uU(53,"\n      "),t.BQk(),t._uU(54,"\n\n      "),t.ynx(55,12),t._uU(56,"\n        "),t.YNc(57,$t,3,3,"th",5),t._uU(58,"\n        "),t.YNc(59,zt,3,6,"td",6),t._uU(60,"\n      "),t.BQk(),t._uU(61,"\n\n      "),t.ynx(62,13),t._uU(63,"\n        "),t.YNc(64,Xt,3,3,"th",5),t._uU(65,"\n        "),t.YNc(66,Vt,3,6,"td",6),t._uU(67,"\n      "),t.BQk(),t._uU(68,"\n\n      "),t.ynx(69,14),t._uU(70,"\n        "),t.YNc(71,Kt,3,3,"th",5),t._uU(72,"\n        "),t.YNc(73,oe,6,2,"td",6),t._uU(74,"\n      "),t.BQk(),t._uU(75,"\n\n      "),t.YNc(76,re,1,0,"tr",15),t._uU(77,"\n      "),t.YNc(78,ce,1,0,"tr",16),t._uU(79,"\n    "),t.qZA(),t._uU(80,"\n  "),t.qZA(),t._uU(81,"\n"),t.qZA(),t._uU(82,"\n")),2&s&&(t.xp6(5),t.Oqu(t.lcZ(6,4,"labels.heading.All Charges")),t.xp6(6),t.Q6J("dataSource",a.dataSource),t.xp6(65),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",a.displayedColumns))},dependencies:[d.O5,U.lW,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,P.gM,z.A,d.H9,g.X$,y.X],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{margin-left:auto}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .account-action-button[_ngcontent-%COMP%]{min-width:26px;padding:0 6px;margin:4px;line-height:25px}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .select-row[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return e})();function ue(e,o){1&e&&(t.TgZ(0,"th",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Transaction Date")))}function le(e,o){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.postedDate))}}function me(e,o){1&e&&(t.TgZ(0,"th",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Amount")))}function pe(e,o){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=o.$implicit,s=t.oxw();t.xp6(1),t.hij("\n          ",t.gM2(2,1,n.amount,s.shareAccountData.currency.code,"symbol-narrow","1.2-2"),"\n        ")}}function _e(e,o){1&e&&(t.TgZ(0,"th",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Transaction Reference")))}function he(e,o){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.savingsTransactionId)}}function de(e,o){1&e&&(t.TgZ(0,"th",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Status")))}function Ae(e,o){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.status."+n.status.value))}}function ge(e,o){1&e&&t._UZ(0,"tr",14)}function Ue(e,o){1&e&&t._UZ(0,"tr",15)}let fe=(()=>{class e{constructor(n){this.route=n,this.displayedColumns=["transactionDate","amount","transactionReference","status"],this.route.parent.data.subscribe(s=>{this.shareAccountData=s.sharesAccountData,this.dividendsData=this.shareAccountData.dividends})}ngOnInit(){this.dataSource=new u.by(this.dividendsData)}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(m.gz))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-dividends-tab"]],decls:48,vars:6,consts:[[1,"tab-container","mat-typography"],[1,"m-b-10"],[1,"mat-elevation-z1","m-b-25"],["mat-table","",3,"dataSource"],["matColumnDef","transactionDate"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","amount"],["matColumnDef","transactionReference"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(s,a){1&s&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"h3"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n  "),t.qZA(),t._uU(8,"\n\n  "),t.TgZ(9,"div",2),t._uU(10,"\n    "),t.TgZ(11,"table",3),t._uU(12,"\n      "),t.ynx(13,4),t._uU(14,"\n        "),t.YNc(15,ue,3,3,"th",5),t._uU(16,"\n        "),t.YNc(17,le,3,3,"td",6),t._uU(18,"\n      "),t.BQk(),t._uU(19,"\n\n      "),t.ynx(20,7),t._uU(21,"\n        "),t.YNc(22,me,3,3,"th",5),t._uU(23,"\n        "),t.YNc(24,pe,3,6,"td",6),t._uU(25,"\n      "),t.BQk(),t._uU(26,"\n\n      "),t.ynx(27,8),t._uU(28,"\n        "),t.YNc(29,_e,3,3,"th",5),t._uU(30,"\n        "),t.YNc(31,he,2,1,"td",6),t._uU(32,"\n      "),t.BQk(),t._uU(33,"\n\n      "),t.ynx(34,9),t._uU(35,"\n        "),t.YNc(36,de,3,3,"th",5),t._uU(37,"\n        "),t.YNc(38,Ae,3,3,"td",6),t._uU(39,"\n      "),t.BQk(),t._uU(40,"\n\n      "),t.YNc(41,ge,1,0,"tr",10),t._uU(42,"\n      "),t.YNc(43,Ue,1,0,"tr",11),t._uU(44,"\n    "),t.qZA(),t._uU(45,"\n  "),t.qZA(),t._uU(46,"\n"),t.qZA(),t._uU(47,"\n")),2&s&&(t.xp6(5),t.Oqu(t.lcZ(6,4,"labels.inputs.Dividends")),t.xp6(6),t.Q6J("dataSource",a.dataSource),t.xp6(30),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",a.displayedColumns))},dependencies:[u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,d.H9,g.X$,q.E],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]})}return e})();var i=l(24006),b=l(99639),J=l(3238),A=l(99602),_=l(59549),C=l(284),M=l(84385),T=l(58425);function Ze(e,o){if(1&e&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij("\n          ",n.name,"\n        ")}}let N=(()=>{class e{constructor(n,s,a){this.formBuilder=n,this.sharesService=s,this.settingsService=a,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.sharesAccountProductTemplate=new t.vpe,this.createSharesAccountDetailsForm()}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.buildDependencies(),this.sharesAccountTemplate&&(this.productData=this.sharesAccountTemplate.productOptions,this.sharesAccountTemplate.productId&&this.sharesAccountDetailsForm.patchValue({productId:this.sharesAccountTemplate.productId,submittedDate:this.sharesAccountTemplate.timeline.submittedOnDate&&new Date(this.sharesAccountTemplate.timeline.submittedOnDate),externalId:this.sharesAccountTemplate.externalId}))}createSharesAccountDetailsForm(){this.sharesAccountDetailsForm=this.formBuilder.group({productId:["",i.kI.required],submittedDate:["",i.kI.required],externalId:[""]})}buildDependencies(){const n=this.sharesAccountTemplate.clientId;this.sharesAccountDetailsForm.get("productId").valueChanges.subscribe(s=>{this.sharesService.getSharesAccountTemplate(n,s).subscribe(a=>{this.sharesAccountProductTemplate.emit(a)})})}get sharesAccountDetails(){return this.sharesAccountDetailsForm.value}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(i.QS),t.Y36(f),t.Y36(b.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-details-step"]],inputs:{sharesAccountTemplate:"sharesAccountTemplate"},outputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate"},decls:74,vars:40,consts:[[3,"formGroup"],[1,"layout-row-wrap","gap-2px","responsive-column"],[1,"flex-48"],["formControlName","productId","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex-48",3,"click"],["matInput","","formControlName","submittedDate","required","",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["submittedOnDatePicker",""],["matInput","","formControlName","externalId"],[1,"layout-row","align-center","gap-2percent","margin-t","responsive-column"],["mat-raised-button","","matStepperPrevious","","disabled",""],["icon","arrow-left",1,"m-r-10"],["mat-raised-button","","matStepperNext","",3,"disabled"],["icon","arrow-right",1,"m-l-10"],[3,"value"]],template:function(s,a){if(1&s){const r=t.EpF();t.TgZ(0,"form",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"mat-form-field",2),t._uU(5,"\n      "),t.TgZ(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._uU(9,"\n      "),t.TgZ(10,"mat-select",3),t._uU(11,"\n        "),t.YNc(12,Ze,2,2,"mat-option",4),t._uU(13,"\n      "),t.qZA(),t._uU(14,"\n      "),t.TgZ(15,"mat-error"),t._uU(16),t.ALo(17,"translate"),t.ALo(18,"translate"),t.TgZ(19,"strong"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._uU(22,"\n      "),t.qZA(),t._uU(23,"\n    "),t.qZA(),t._uU(24,"\n\n    "),t.TgZ(25,"mat-form-field",5),t.NdJ("click",function(){t.CHM(r);const p=t.MAs(36);return t.KtG(p.open())}),t._uU(26,"\n      "),t.TgZ(27,"mat-label"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t._uU(30,"\n      "),t._UZ(31,"input",6),t._uU(32,"\n      "),t._UZ(33,"mat-datepicker-toggle",7),t._uU(34,"\n      "),t._UZ(35,"mat-datepicker",null,8),t._uU(37,"\n      "),t.TgZ(38,"mat-error"),t._uU(39),t.ALo(40,"translate"),t.ALo(41,"translate"),t.TgZ(42,"strong"),t._uU(43),t.ALo(44,"translate"),t.qZA(),t._uU(45,"\n      "),t.qZA(),t._uU(46,"\n    "),t.qZA(),t._uU(47,"\n\n    "),t.TgZ(48,"mat-form-field",2),t._uU(49,"\n      "),t.TgZ(50,"mat-label"),t._uU(51),t.ALo(52,"translate"),t.qZA(),t._uU(53,"\n      "),t._UZ(54,"input",9),t._uU(55,"\n    "),t.qZA(),t._uU(56,"\n  "),t.qZA(),t._uU(57,"\n\n  "),t.TgZ(58,"div",10),t._uU(59,"\n    "),t.TgZ(60,"button",11),t._uU(61,"\n      "),t._UZ(62,"fa-icon",12),t._uU(63),t.ALo(64,"translate"),t.qZA(),t._uU(65,"\n    "),t.TgZ(66,"button",13),t._uU(67),t.ALo(68,"translate"),t._UZ(69,"fa-icon",14),t._uU(70,"\n    "),t.qZA(),t._uU(71,"\n  "),t.qZA(),t._uU(72,"\n"),t.qZA(),t._uU(73,"\n")}if(2&s){const r=t.MAs(36);let c;t.Q6J("formGroup",a.sharesAccountDetailsForm),t.xp6(7),t.Oqu(t.lcZ(8,18,"labels.inputs.Product Name")),t.xp6(5),t.Q6J("ngForOf",a.productData),t.xp6(4),t.AsE("\n        ",t.lcZ(17,20,"labels.inputs.Product Name")," ",t.lcZ(18,22,"labels.commons.is"),"\n        "),t.xp6(4),t.Oqu(t.lcZ(21,24,"labels.commons.required")),t.xp6(8),t.Oqu(t.lcZ(29,26,"labels.inputs.Submitted On")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",r),t.xp6(2),t.Q6J("for",r),t.xp6(6),t.AsE("\n        ",t.lcZ(40,28,"labels.inputs.Submission Date")," ",t.lcZ(41,30,"labels.commons.is"),"\n        "),t.xp6(4),t.Oqu(t.lcZ(44,32,"labels.commons.required")),t.xp6(8),t.Oqu(t.lcZ(52,34,"labels.inputs.External ID")),t.xp6(12),t.hij("\n      ",t.lcZ(64,36,"labels.buttons.Previous"),"\n    "),t.xp6(3),t.Q6J("disabled",!(null!=(c=a.sharesAccountDetailsForm.get("productId"))&&c.value&&null!=(c=a.sharesAccountDetailsForm.get("submittedDate"))&&c.value)),t.xp6(1),t.hij("\n      ",t.lcZ(68,38,"labels.buttons.Next"),"\n      ")}},dependencies:[d.sg,v.BN,J.ey,U.lW,A.Mq,A.hl,A.nW,_.KE,_.hX,_.TO,_.R9,C.Nt,M.gD,T.Ic,T.fd,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,g.X$]})}return e})();var Te=l(56709);function be(e,o){if(1&e&&(t.TgZ(0,"span",2),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(t.gM2(2,1,n.calculateCurrenValue(),n.currency.code,"symbol-narrow","1.2-2"))}}function Ce(e,o){if(1&e&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n.id),t.xp6(1),t.AsE("\n          ",n.accountNo," - ",n.savingsProductName,"\n        ")}}function xe(e,o){if(1&e&&(t.TgZ(0,"mat-option",24),t._uU(1),t.ALo(2,"translateKey"),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij("\n          ",t.xi3(2,2,n.value,"catalogs"),"\n        ")}}function ve(e,o){if(1&e&&(t.TgZ(0,"mat-option",24),t._uU(1),t.ALo(2,"translateKey"),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij("\n          ",t.xi3(2,2,n.value,"catalogs"),"\n        ")}}let L=(()=>{class e{constructor(n,s){this.formBuilder=n,this.settingsService=s,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.isSavingsPatched=!1,this.currency=null,this.createSharesAccountTermsForm()}ngOnChanges(){this.sharesAccountProductTemplate&&(this.currency=this.sharesAccountProductTemplate.currency,this.sharesAccountTermsForm.patchValue({currencyCode:this.sharesAccountProductTemplate.currency.code,decimal:this.sharesAccountProductTemplate.currency.decimalPlaces,currencyMultiple:this.sharesAccountProductTemplate.currency.inMultiplesOf,unitPrice:this.sharesAccountProductTemplate.currentMarketPrice,savingsAccountId:""}),this.setOptions(),this.sharesAccountTemplate&&!this.isSavingsPatched&&this.sharesAccountTemplate.savingsAccountId&&(this.sharesAccountTermsForm.get("savingsAccountId").patchValue(this.sharesAccountTemplate.savingsAccountId),this.isSavingsPatched=!0))}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.sharesAccountTemplate&&this.sharesAccountTermsForm.patchValue({requestedShares:this.sharesAccountTemplate.summary.totalPendingForApprovalShares,minimumActivePeriod:this.sharesAccountTemplate.minimumActivePeriod,minimumActivePeriodFrequencyType:this.sharesAccountTemplate.minimumActivePeriod&&this.sharesAccountTemplate.minimumActivePeriodTypeEnum.id,lockinPeriodFrequency:this.sharesAccountTemplate.lockinPeriod,lockinPeriodFrequencyType:this.sharesAccountTemplate.lockinPeriod&&this.sharesAccountTemplate.lockPeriodTypeEnum.id,applicationDate:this.sharesAccountTemplate.purchasedShares[0].purchasedDate&&new Date(this.sharesAccountTemplate.purchasedShares[0].purchasedDate),allowDividendCalculationForInactiveClients:this.sharesAccountTemplate.allowDividendCalculationForInactiveClients})}createSharesAccountTermsForm(){this.sharesAccountTermsForm=this.formBuilder.group({currencyCode:[{value:"",disabled:!0}],decimal:[{value:"",disabled:!0}],requestedShares:["",i.kI.required],unitPrice:[{value:"",disabled:!0}],currencyMultiple:[{value:"",disabled:!0}],savingsAccountId:["",i.kI.required],minimumActivePeriod:[""],minimumActivePeriodFrequencyType:[""],lockinPeriodFrequency:[""],lockinPeriodFrequencyType:[""],applicationDate:["",i.kI.required],allowDividendCalculationForInactiveClients:[!1]})}setOptions(){this.minimumActivePeriodFrequencyTypeData=this.sharesAccountProductTemplate.minimumActivePeriodFrequencyTypeOptions,this.lockinPeriodFrequencyTypeData=this.sharesAccountProductTemplate.lockinPeriodFrequencyTypeOptions,this.savingsAccountsData=this.sharesAccountProductTemplate.clientSavingsAccounts}get sharesAccountTerms(){return this.sharesAccountTermsForm.value}calculateCurrenValue(){return this.sharesAccountTermsForm.value.requestedShares&&this.sharesAccountProductTemplate.currentMarketPrice?this.sharesAccountProductTemplate.currentMarketPrice*this.sharesAccountTermsForm.value.requestedShares:0}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(i.QS),t.Y36(b.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-terms-step"]],inputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate",sharesAccountTemplate:"sharesAccountTemplate"},features:[t.TTD],decls:157,vars:78,consts:[[3,"formGroup"],[1,"layout-row-wrap","gap-2percent","responsive-column","align-start-center"],[1,"flex-48"],["matInput","","formControlName","currencyCode"],["type","number","matInput","","formControlName","unitPrice"],["type","number","matInput","","formControlName","requestedShares","required",""],["class","flex-48",4,"ngIf"],["formControlName","savingsAccountId","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex-48",3,"click"],["matInput","","formControlName","applicationDate","required","",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["applicationDatePicker",""],["labelPosition","before","formControlName","allowDividendCalculationForInactiveClients",1,"flex-48"],[1,"mat-h4","flex-98"],["type","number","matInput","","formControlName","minimumActivePeriod"],["formControlName","minimumActivePeriodFrequencyType"],["type","number","matInput","","formControlName","lockinPeriodFrequency"],["formControlName","lockinPeriodFrequencyType"],[1,"layout-row","align-center","gap-2percent","margin-t","responsive-column"],["mat-raised-button","","matStepperPrevious",""],["icon","arrow-left",1,"m-r-10"],["mat-raised-button","","matStepperNext",""],["icon","arrow-right",1,"m-l-10"],[3,"value"]],template:function(s,a){if(1&s){const r=t.EpF();t.TgZ(0,"form",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"mat-form-field",2),t._uU(5,"\n      "),t.TgZ(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._uU(9,"\n      "),t._UZ(10,"input",3),t._uU(11,"\n    "),t.qZA(),t._uU(12,"\n\n    "),t.TgZ(13,"mat-form-field",2),t._uU(14,"\n      "),t.TgZ(15,"mat-label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._uU(18,"\n      "),t._UZ(19,"input",4),t._uU(20,"\n    "),t.qZA(),t._uU(21,"\n\n    "),t.TgZ(22,"mat-form-field",2),t._uU(23,"\n      "),t.TgZ(24,"mat-label"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t._uU(27,"\n      "),t._UZ(28,"input",5),t._uU(29,"\n      "),t.TgZ(30,"mat-error"),t._uU(31),t.ALo(32,"translate"),t.ALo(33,"translate"),t.TgZ(34,"strong"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t._uU(37,"\n      "),t.qZA(),t._uU(38,"\n    "),t.qZA(),t._uU(39,"\n    "),t.YNc(40,be,3,6,"span",6),t._uU(41,"\n\n    "),t.TgZ(42,"mat-form-field",2),t._uU(43,"\n      "),t.TgZ(44,"mat-label"),t._uU(45),t.ALo(46,"translate"),t.qZA(),t._uU(47,"\n      "),t.TgZ(48,"mat-select",7),t._uU(49,"\n        "),t.YNc(50,Ce,2,3,"mat-option",8),t._uU(51,"\n      "),t.qZA(),t._uU(52,"\n      "),t.TgZ(53,"mat-error"),t._uU(54),t.ALo(55,"translate"),t.ALo(56,"translate"),t.TgZ(57,"strong"),t._uU(58),t.ALo(59,"translate"),t.qZA(),t._uU(60,"\n      "),t.qZA(),t._uU(61,"\n    "),t.qZA(),t._uU(62,"\n\n    "),t.TgZ(63,"mat-form-field",9),t.NdJ("click",function(){t.CHM(r);const p=t.MAs(74);return t.KtG(p.open())}),t._uU(64,"\n      "),t.TgZ(65,"mat-label"),t._uU(66),t.ALo(67,"translate"),t.qZA(),t._uU(68,"\n      "),t._UZ(69,"input",10),t._uU(70,"\n      "),t._UZ(71,"mat-datepicker-toggle",11),t._uU(72,"\n      "),t._UZ(73,"mat-datepicker",null,12),t._uU(75,"\n      "),t.TgZ(76,"mat-error"),t._uU(77),t.ALo(78,"translate"),t.ALo(79,"translate"),t.TgZ(80,"strong"),t._uU(81),t.ALo(82,"translate"),t.qZA(),t._uU(83,"\n      "),t.qZA(),t._uU(84,"\n    "),t.qZA(),t._uU(85,"\n\n    "),t.TgZ(86,"mat-checkbox",13),t._uU(87),t.ALo(88,"translate"),t.qZA(),t._uU(89,"\n\n    "),t.TgZ(90,"h4",14),t._uU(91),t.ALo(92,"translate"),t.qZA(),t._uU(93,"\n\n    "),t.TgZ(94,"mat-form-field",2),t._uU(95,"\n      "),t.TgZ(96,"mat-label"),t._uU(97),t.ALo(98,"translate"),t.qZA(),t._uU(99,"\n      "),t._UZ(100,"input",15),t._uU(101,"\n    "),t.qZA(),t._uU(102,"\n\n    "),t.TgZ(103,"mat-form-field",2),t._uU(104,"\n      "),t.TgZ(105,"mat-label"),t._uU(106),t.ALo(107,"translate"),t.qZA(),t._uU(108,"\n      "),t.TgZ(109,"mat-select",16),t._uU(110,"\n        "),t.YNc(111,xe,3,5,"mat-option",8),t._uU(112,"\n      "),t.qZA(),t._uU(113,"\n    "),t.qZA(),t._uU(114,"\n\n    "),t.TgZ(115,"h4",14),t._uU(116),t.ALo(117,"translate"),t.qZA(),t._uU(118,"\n\n    "),t.TgZ(119,"mat-form-field",2),t._uU(120,"\n      "),t.TgZ(121,"mat-label"),t._uU(122),t.ALo(123,"translate"),t.qZA(),t._uU(124,"\n      "),t._UZ(125,"input",17),t._uU(126,"\n    "),t.qZA(),t._uU(127,"\n\n    "),t.TgZ(128,"mat-form-field",2),t._uU(129,"\n      "),t.TgZ(130,"mat-label"),t._uU(131),t.ALo(132,"translate"),t.qZA(),t._uU(133,"\n      "),t.TgZ(134,"mat-select",18),t._uU(135,"\n        "),t.YNc(136,ve,3,5,"mat-option",8),t._uU(137,"\n      "),t.qZA(),t._uU(138,"\n    "),t.qZA(),t._uU(139,"\n  "),t.qZA(),t._uU(140,"\n\n  "),t.TgZ(141,"div",19),t._uU(142,"\n    "),t.TgZ(143,"button",20),t._uU(144,"\n      "),t._UZ(145,"fa-icon",21),t._uU(146),t.ALo(147,"translate"),t.qZA(),t._uU(148,"\n    "),t.TgZ(149,"button",22),t._uU(150),t.ALo(151,"translate"),t._UZ(152,"fa-icon",23),t._uU(153,"\n    "),t.qZA(),t._uU(154,"\n  "),t.qZA(),t._uU(155,"\n"),t.qZA(),t._uU(156,"\n")}if(2&s){const r=t.MAs(74);t.Q6J("formGroup",a.sharesAccountTermsForm),t.xp6(7),t.Oqu(t.lcZ(8,32,"labels.inputs.Currency")),t.xp6(9),t.Oqu(t.lcZ(17,34,"labels.inputs.Current Price")),t.xp6(9),t.Oqu(t.lcZ(26,36,"labels.inputs.Total Number of Shares")),t.xp6(6),t.AsE("\n        ",t.lcZ(32,38,"labels.inputs.Total Number of Shares")," ",t.lcZ(33,40,"labels.commons.is"),"\n        "),t.xp6(4),t.Oqu(t.lcZ(36,42,"labels.commons.required")),t.xp6(5),t.Q6J("ngIf",a.currency),t.xp6(5),t.Oqu(t.lcZ(46,44,"labels.inputs.Default Savings Account")),t.xp6(5),t.Q6J("ngForOf",a.savingsAccountsData),t.xp6(4),t.AsE("\n        ",t.lcZ(55,46,"labels.inputs.Default Savings Account")," ",t.lcZ(56,48,"labels.commons.is"),"\n        "),t.xp6(4),t.Oqu(t.lcZ(59,50,"labels.commons.required")),t.xp6(8),t.Oqu(t.lcZ(67,52,"labels.inputs.Application Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",r),t.xp6(2),t.Q6J("for",r),t.xp6(6),t.AsE("\n        ",t.lcZ(78,54,"labels.inputs.Application Date")," ",t.lcZ(79,56,"labels.commons.is"),"\n        "),t.xp6(4),t.Oqu(t.lcZ(82,58,"labels.commons.required")),t.xp6(6),t.hij("\n      ",t.lcZ(88,60,"labels.inputs.Allow dividends for inactive clients"),"\n    "),t.xp6(4),t.Oqu(t.lcZ(92,62,"labels.heading.Minimum Active Period")),t.xp6(6),t.Oqu(t.lcZ(98,64,"labels.inputs.Frequency")),t.xp6(9),t.Oqu(t.lcZ(107,66,"labels.inputs.Type")),t.xp6(5),t.Q6J("ngForOf",a.minimumActivePeriodFrequencyTypeData),t.xp6(5),t.Oqu(t.lcZ(117,68,"labels.heading.Lock-in Period")),t.xp6(6),t.Oqu(t.lcZ(123,70,"labels.inputs.Frequency")),t.xp6(9),t.Oqu(t.lcZ(132,72,"labels.inputs.Type")),t.xp6(5),t.Q6J("ngForOf",a.lockinPeriodFrequencyTypeData),t.xp6(10),t.hij("\n      ",t.lcZ(147,74,"labels.buttons.Previous"),"\n    "),t.xp6(4),t.hij("\n      ",t.lcZ(151,76,"labels.buttons.Next"),"\n      ")}},dependencies:[d.sg,d.O5,v.BN,J.ey,U.lW,Te.oG,A.Mq,A.hl,A.nW,_.KE,_.hX,_.TO,_.R9,C.Nt,M.gD,T.Ic,T.fd,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.sg,i.u,d.H9,g.X$,y.X],styles:["h4[_ngcontent-%COMP%]{font-weight:500;margin:1em 0}.margin-t[_ngcontent-%COMP%]{margin-top:1em}"]})}return e})();var Se=l(34417),qe=l(68830),De=l(63613);function ye(e,o){if(1&e&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.hij("\n        ",n.name,"\n      ")}}function Oe(e,o){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.name")))}function Pe(e,o){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n        ",n.name+", "+n.currency.displaySymbol,"\n      ")}}function Ne(e,o){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Type")))}function Le(e,o){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.ALo(2,"translateKey"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n        ",t.xi3(2,1,n.chargeCalculationType.value,"catalogs"),"\n      ")}}function we(e,o){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Amount")))}function Fe(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",24),t._uU(1),t.TgZ(2,"button",25),t.NdJ("click",function(){const r=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.editCharge(r))}),t._uU(3,"\n          "),t._UZ(4,"fa-icon",26),t._uU(5,"\n        "),t.qZA(),t._uU(6,"\n      "),t.qZA()}if(2&e){const n=o.$implicit;t.xp6(1),t.hij("\n        ",n.amount||n.amountOrPercentage,"\n        ")}}function Ye(e,o){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Collected On")))}function Ie(e,o){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.ALo(2,"translateKey"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n        ",t.xi3(2,1,n.chargeTimeType.value,"catalogs"),"\n      ")}}function ke(e,o){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Actions")))}function Qe(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",24),t._uU(1,"\n        "),t.TgZ(2,"button",27),t.NdJ("click",function(){const r=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.deleteCharge(r))}),t._uU(3,"\n          "),t._UZ(4,"fa-icon",28),t._uU(5,"\n        "),t.qZA(),t._uU(6,"\n      "),t.qZA()}}function Je(e,o){1&e&&t._UZ(0,"tr",29)}function Me(e,o){1&e&&t._UZ(0,"tr",30)}let w=(()=>{class e{constructor(n,s){this.dialog=n,this.translateService=s,this.chargeData=[],this.chargesDataSource=[],this.pristine=!0,this.isChargesPatched=!1,this.displayedColumns=["name","chargeCalculationType","amount","chargeTimeType","action"]}ngOnInit(){this.currencyCode.valueChanges.subscribe(()=>{!this.isChargesPatched&&this.sharesAccountTemplate.charges?(this.chargesDataSource=this.sharesAccountTemplate.charges,this.isChargesPatched=!0):this.chargesDataSource=[]})}ngOnChanges(){this.sharesAccountProductTemplate&&(this.chargeData=this.sharesAccountTemplate.chargeOptions,this.chargesDataSource=this.sharesAccountProductTemplate.charges)}addCharge(n){this.chargesDataSource=this.chargesDataSource.concat([n.value]),n.value="",this.pristine=!1}editCharge(n){const s=[new qe.M({controlName:"amount",label:this.translateService.instant("labels.inputs.Amount"),value:n.amount||n.amountOrPercentage,type:"number",required:!1})],a={title:this.translateService.instant("labels.heading.Edit Charge"),layout:{addButtonText:"Submit"},formfields:s};this.dialog.open(Se.E,{data:a}).afterClosed().subscribe(c=>{if(c.data){const p={...n,amount:c.data.value.amount};this.chargesDataSource.splice(this.chargesDataSource.indexOf(n),1,p),this.chargesDataSource=this.chargesDataSource.concat([])}}),this.pristine=!1}deleteCharge(n){this.dialog.open(G.F,{data:{deleteContext:`charge ${n.name}`}}).afterClosed().subscribe(a=>{a.delete&&(this.chargesDataSource.splice(this.chargesDataSource.indexOf(n),1),this.chargesDataSource=this.chargesDataSource.concat([]))}),this.pristine=!1}get sharesAccountCharges(){return{charges:this.chargesDataSource}}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(Z.uw),t.Y36(g.sK))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-charges-step"]],inputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate",sharesAccountTemplate:"sharesAccountTemplate",currencyCode:"currencyCode"},features:[t.TTD],decls:83,vars:22,consts:[[1,"layout-row-wrap","gap-2px","responsive-column"],[1,"flex-48"],["charge",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex-48","align-center"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],["icon","plus",1,"m-r-10"],["mat-table","",1,"flex-98","mat-elevation-z1",3,"dataSource","hidden"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","chargeCalculationType"],["matColumnDef","amount"],["matColumnDef","chargeTimeType"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"layout-row","responsive-column","align-center","gap-2px","margin-t"],["mat-raised-button","","matStepperPrevious",""],["icon","arrow-left",1,"m-r-10"],["mat-raised-button","","matStepperNext",""],["icon","arrow-right",1,"m-l-10"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["icon","pen"],["mat-icon-button","","color","warn",3,"click"],["icon","trash"],["mat-header-row",""],["mat-row",""]],template:function(s,a){if(1&s){const r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"mat-form-field",1),t._uU(3,"\n    "),t.TgZ(4,"mat-label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n    "),t.TgZ(8,"mat-select",null,2),t._uU(10,"\n      "),t.YNc(11,ye,2,2,"mat-option",3),t.ALo(12,"chargesFilter"),t._uU(13,"\n    "),t.qZA(),t._uU(14,"\n  "),t.qZA(),t._uU(15,"\n\n  "),t.TgZ(16,"div",4),t._uU(17,"\n    "),t.TgZ(18,"button",5),t.NdJ("click",function(){t.CHM(r);const p=t.MAs(9);return t.KtG(a.addCharge(p))}),t._uU(19,"\n      "),t._UZ(20,"fa-icon",6),t._uU(21),t.ALo(22,"translate"),t.qZA(),t._uU(23,"\n  "),t.qZA(),t._uU(24,"\n\n  "),t.TgZ(25,"table",7),t._uU(26,"\n    "),t.ynx(27,8),t._uU(28,"\n      "),t.YNc(29,Oe,3,3,"th",9),t._uU(30,"\n      "),t.YNc(31,Pe,2,1,"td",10),t._uU(32,"\n    "),t.BQk(),t._uU(33,"\n\n    "),t.ynx(34,11),t._uU(35,"\n      "),t.YNc(36,Ne,3,3,"th",9),t._uU(37,"\n      "),t.YNc(38,Le,3,4,"td",10),t._uU(39,"\n    "),t.BQk(),t._uU(40,"\n\n    "),t.ynx(41,12),t._uU(42,"\n      "),t.YNc(43,we,3,3,"th",9),t._uU(44,"\n      "),t.YNc(45,Fe,7,1,"td",10),t._uU(46,"\n    "),t.BQk(),t._uU(47,"\n\n    "),t.ynx(48,13),t._uU(49,"\n      "),t.YNc(50,Ye,3,3,"th",9),t._uU(51,"\n      "),t.YNc(52,Ie,3,4,"td",10),t._uU(53,"\n    "),t.BQk(),t._uU(54,"\n\n    "),t.ynx(55,14),t._uU(56,"\n      "),t.YNc(57,ke,3,3,"th",9),t._uU(58,"\n      "),t.YNc(59,Qe,7,0,"td",10),t._uU(60,"\n    "),t.BQk(),t._uU(61,"\n\n    "),t.YNc(62,Je,1,0,"tr",15),t._uU(63,"\n    "),t.YNc(64,Me,1,0,"tr",16),t._uU(65,"\n  "),t.qZA(),t._uU(66,"\n"),t.qZA(),t._uU(67,"\n\n"),t.TgZ(68,"div",17),t._uU(69,"\n  "),t.TgZ(70,"button",18),t._uU(71,"\n    "),t._UZ(72,"fa-icon",19),t._uU(73),t.ALo(74,"translate"),t.qZA(),t._uU(75,"\n  "),t.TgZ(76,"button",20),t._uU(77),t.ALo(78,"translate"),t._UZ(79,"fa-icon",21),t._uU(80,"\n  "),t.qZA(),t._uU(81,"\n"),t.qZA(),t._uU(82,"\n")}if(2&s){const r=t.MAs(9);t.xp6(5),t.Oqu(t.lcZ(6,10,"labels.inputs.Charge")),t.xp6(6),t.Q6J("ngForOf",t.Dn7(12,12,a.chargeData,a.chargesDataSource,a.currencyCode.value)),t.xp6(7),t.Q6J("disabled",!r.value),t.xp6(3),t.hij("\n      ",t.lcZ(22,16,"labels.buttons.Add"),"\n    "),t.xp6(4),t.Q6J("dataSource",a.chargesDataSource)("hidden",0===a.chargesDataSource.length),t.xp6(37),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(9),t.hij("\n    ",t.lcZ(74,18,"labels.buttons.Previous"),"\n  "),t.xp6(4),t.hij("\n    ",t.lcZ(78,20,"labels.buttons.Next"),"\n    ")}},dependencies:[d.sg,v.BN,J.ey,U.lW,U.RK,_.KE,_.hX,M.gD,T.Ic,T.fd,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,g.X$,De.A,y.X],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-elevation-z1[_ngcontent-%COMP%]{margin:1em 0 1.5em}.margin-t[_ngcontent-%COMP%]{margin-top:1em}"]})}return e})();var x=l(73426),Re=l(44850),X=l(5510),Ee=l(27676),je=l(30637);function He(e,o){if(1&e&&(t.TgZ(0,"span",4),t._uU(1,"\n      "),t._UZ(2,"mifosx-external-identifier",13),t._uU(3,"\n    "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.s9C("externalId",n.sharesAccount.externalId)}}function Be(e,o){1&e&&(t.TgZ(0,"span",4),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("\n      ",t.lcZ(2,1,"labels.inputs.Unassigned"),"\n    "))}function Ge(e,o){if(1&e&&(t.TgZ(0,"div",2),t._uU(1,"\n    "),t.TgZ(2,"span",3),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n    "),t.TgZ(6,"span",4),t._uU(7),t.ALo(8,"translateKey"),t.ALo(9,"find"),t.qZA(),t._uU(10,"\n  "),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,"labels.inputs.Minimum Active Period")),t.xp6(4),t.AsE("",n.sharesAccount.minimumActivePeriod,"\xa0",t.xi3(8,5,t.gM2(9,8,n.sharesAccount.minimumActivePeriodFrequencyType,n.sharesAccountProductTemplate.minimumActivePeriodFrequencyTypeOptions,"id","value"),"catalogs"),"")}}function $e(e,o){if(1&e&&(t.TgZ(0,"div",2),t._uU(1,"\n    "),t.TgZ(2,"span",3),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n    "),t.TgZ(6,"span",4),t._uU(7),t.ALo(8,"translateKey"),t.ALo(9,"find"),t.qZA(),t._uU(10,"\n  "),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,"labels.inputs.Lock-in Period")),t.xp6(4),t.AsE("",n.sharesAccount.lockinPeriodFrequency,"\xa0",t.xi3(8,5,t.gM2(9,8,n.sharesAccount.lockinPeriodFrequencyType,n.sharesAccountProductTemplate.lockinPeriodFrequencyTypeOptions,"id","value"),"catalogs"),"")}}function ze(e,o){1&e&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.name")))}function Xe(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n          ",n.name+", "+n.currency.displaySymbol,"\n        ")}}function Ve(e,o){1&e&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Type")))}function Ke(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"translateKey"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n          ",t.xi3(2,1,n.chargeCalculationType.value,"catalogs"),"\n        ")}}function We(e,o){1&e&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Amount")))}function tn(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n          ",n.amount||n.amountOrPercentage,"\n        ")}}function en(e,o){1&e&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Collected On")))}function nn(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"translateKey"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n          ",t.xi3(2,1,n.chargeTimeType.value,"catalogs"),"\n        ")}}function an(e,o){1&e&&t._UZ(0,"tr",26)}function sn(e,o){1&e&&t._UZ(0,"tr",27)}function on(e,o){if(1&e&&(t.TgZ(0,"div",14),t._uU(1,"\n    "),t.TgZ(2,"h3",1),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n\n    "),t._UZ(6,"mat-divider",2),t._uU(7,"\n    "),t.TgZ(8,"table",15),t._uU(9,"\n      "),t.ynx(10,16),t._uU(11,"\n        "),t.YNc(12,ze,3,3,"th",17),t._uU(13,"\n        "),t.YNc(14,Xe,2,1,"td",18),t._uU(15,"\n      "),t.BQk(),t._uU(16,"\n\n      "),t.ynx(17,19),t._uU(18,"\n        "),t.YNc(19,Ve,3,3,"th",17),t._uU(20,"\n        "),t.YNc(21,Ke,3,4,"td",18),t._uU(22,"\n      "),t.BQk(),t._uU(23,"\n\n      "),t.ynx(24,20),t._uU(25,"\n        "),t.YNc(26,We,3,3,"th",17),t._uU(27,"\n        "),t.YNc(28,tn,2,1,"td",18),t._uU(29,"\n      "),t.BQk(),t._uU(30,"\n\n      "),t.ynx(31,21),t._uU(32,"\n        "),t.YNc(33,en,3,3,"th",17),t._uU(34,"\n        "),t.YNc(35,nn,3,4,"td",18),t._uU(36,"\n      "),t.BQk(),t._uU(37,"\n\n      "),t.YNc(38,an,1,0,"tr",22),t._uU(39,"\n      "),t.YNc(40,sn,1,0,"tr",23),t._uU(41,"\n    "),t.qZA(),t._uU(42,"\n  "),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,4,"labels.heading.Charges")),t.xp6(5),t.Q6J("dataSource",n.sharesAccount.charges),t.xp6(30),t.Q6J("matHeaderRowDef",n.chargesDisplayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",n.chargesDisplayedColumns)}}const rn=function(e){return[e]},cn=function(){return["../"]};let V=(()=>{class e{constructor(){this.chargesDisplayedColumns=["name","chargeCalculationType","amount","chargeTimeType"],this.submitEvent=new t.vpe}static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-preview-step"]],inputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate",sharesAccountTemplate:"sharesAccountTemplate",sharesAccountTermsForm:"sharesAccountTermsForm",sharesAccount:"sharesAccount"},outputs:{submitEvent:"submitEvent"},decls:148,vars:90,consts:[[1,"layout-row-wrap","responsive-column"],[1,"mat-h3","flex-fill"],[1,"flex-fill"],[1,"flex-40"],[1,"flex-60"],["class","flex-60",4,"ngIf"],["class","flex-fill",4,"ngIf"],["class","layout-row-wrap responsive-column flex-fill",4,"ngIf"],[1,"layout-row","responsive-column","align-center","gap-2px","margin-t"],["mat-raised-button","","matStepperPrevious",""],["icon","arrow-left",1,"m-r-10"],["mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","primary",3,"click"],[3,"externalId"],[1,"layout-row-wrap","responsive-column","flex-fill"],["mat-table","",1,"flex-fill","mat-elevation-z1",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","chargeCalculationType"],["matColumnDef","amount"],["matColumnDef","chargeTimeType"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(s,a){1&s&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"h3",1),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n\n  "),t._UZ(6,"mat-divider",2),t._uU(7,"\n  "),t.TgZ(8,"div",2),t._uU(9,"\n    "),t.TgZ(10,"span",3),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._uU(13,"\n    "),t.TgZ(14,"span",4),t._uU(15),t.ALo(16,"find"),t.qZA(),t._uU(17,"\n  "),t.qZA(),t._uU(18,"\n\n  "),t.TgZ(19,"div",2),t._uU(20,"\n    "),t.TgZ(21,"span",3),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._uU(24,"\n    "),t.TgZ(25,"span",4),t._uU(26),t.ALo(27,"dateFormat"),t.qZA(),t._uU(28,"\n  "),t.qZA(),t._uU(29,"\n\n  "),t.TgZ(30,"div",2),t._uU(31,"\n    "),t.TgZ(32,"span",3),t._uU(33),t.ALo(34,"translate"),t.qZA(),t._uU(35,"\n    "),t.YNc(36,He,4,1,"span",5),t._uU(37,"\n    "),t.YNc(38,Be,3,3,"span",5),t._uU(39,"\n  "),t.qZA(),t._uU(40,"\n\n  "),t.TgZ(41,"h3",1),t._uU(42),t.ALo(43,"translate"),t.qZA(),t._uU(44,"\n\n  "),t._UZ(45,"mat-divider",2),t._uU(46,"\n  "),t.TgZ(47,"div",2),t._uU(48,"\n    "),t.TgZ(49,"span",3),t._uU(50),t.ALo(51,"translate"),t.qZA(),t._uU(52,"\n    "),t.TgZ(53,"span",4),t._uU(54),t.ALo(55,"find"),t.qZA(),t._uU(56,"\n  "),t.qZA(),t._uU(57,"\n\n  "),t.TgZ(58,"div",2),t._uU(59,"\n    "),t.TgZ(60,"span",3),t._uU(61),t.ALo(62,"translate"),t.qZA(),t._uU(63,"\n    "),t.TgZ(64,"span",4),t._uU(65),t.ALo(66,"formatNumber"),t.qZA(),t._uU(67,"\n  "),t.qZA(),t._uU(68,"\n\n  "),t.TgZ(69,"div",2),t._uU(70,"\n    "),t.TgZ(71,"span",3),t._uU(72),t.ALo(73,"translate"),t.qZA(),t._uU(74,"\n    "),t.TgZ(75,"span",4),t._uU(76),t.ALo(77,"formatNumber"),t.qZA(),t._uU(78,"\n  "),t.qZA(),t._uU(79,"\n\n  "),t.TgZ(80,"div",2),t._uU(81,"\n    "),t.TgZ(82,"span",3),t._uU(83),t.ALo(84,"translate"),t.qZA(),t._uU(85,"\n    "),t.TgZ(86,"span",4),t._uU(87),t.ALo(88,"formatNumber"),t.qZA(),t._uU(89,"\n  "),t.qZA(),t._uU(90,"\n\n  "),t.TgZ(91,"div",2),t._uU(92,"\n    "),t.TgZ(93,"span",3),t._uU(94),t.ALo(95,"translate"),t.qZA(),t._uU(96,"\n    "),t.TgZ(97,"span",4),t._uU(98),t.ALo(99,"find"),t.qZA(),t._uU(100,"\n  "),t.qZA(),t._uU(101,"\n\n  "),t.YNc(102,Ge,11,13,"div",6),t._uU(103,"\n\n  "),t.YNc(104,$e,11,13,"div",6),t._uU(105,"\n\n  "),t.TgZ(106,"div",2),t._uU(107,"\n    "),t.TgZ(108,"span",3),t._uU(109),t.ALo(110,"translate"),t.qZA(),t._uU(111,"\n    "),t.TgZ(112,"span",4),t._uU(113),t.ALo(114,"dateFormat"),t.qZA(),t._uU(115,"\n  "),t.qZA(),t._uU(116,"\n\n  "),t.TgZ(117,"div",2),t._uU(118,"\n    "),t.TgZ(119,"span",3),t._uU(120),t.ALo(121,"translate"),t.qZA(),t._uU(122,"\n    "),t.TgZ(123,"span",4),t._uU(124),t.ALo(125,"yesNo"),t.qZA(),t._uU(126,"\n  "),t.qZA(),t._uU(127,"\n\n  "),t.YNc(128,on,43,6,"div",7),t._uU(129,"\n"),t.qZA(),t._uU(130,"\n\n"),t.TgZ(131,"div",8),t._uU(132,"\n  "),t.TgZ(133,"button",9),t._uU(134,"\n    "),t._UZ(135,"fa-icon",10),t._uU(136),t.ALo(137,"translate"),t.qZA(),t._uU(138,"\n  "),t.TgZ(139,"button",11),t._uU(140),t.ALo(141,"translate"),t.qZA(),t._uU(142,"\n  "),t.TgZ(143,"button",12),t.NdJ("click",function(){return a.submitEvent.emit()}),t._uU(144),t.ALo(145,"translate"),t.qZA(),t._uU(146,"\n"),t.qZA(),t._uU(147,"\n")),2&s&&(t.xp6(3),t.Oqu(t.lcZ(4,30,"labels.heading.Details")),t.xp6(8),t.Oqu(t.lcZ(12,32,"labels.inputs.Product")),t.xp6(4),t.Oqu(t.gM2(16,34,a.sharesAccount.productId,a.sharesAccountTemplate.productOptions,"id","name")),t.xp6(7),t.Oqu(t.lcZ(23,39,"labels.inputs.Submitted On")),t.xp6(4),t.Oqu(t.lcZ(27,41,a.sharesAccount.submittedDate)),t.xp6(7),t.Oqu(t.lcZ(34,43,"labels.inputs.External Id")),t.xp6(3),t.Q6J("ngIf",a.sharesAccount.externalId),t.xp6(2),t.Q6J("ngIf",!a.sharesAccount.externalId),t.xp6(4),t.Oqu(t.lcZ(43,45,"labels.heading.Terms")),t.xp6(8),t.Oqu(t.lcZ(51,47,"labels.inputs.Currency")),t.xp6(4),t.Oqu(t.gM2(55,49,a.sharesAccountTermsForm.get("currencyCode").value,t.VKq(87,rn,a.sharesAccountProductTemplate.currency),"code","displayLabel")),t.xp6(7),t.Oqu(t.lcZ(62,54,"labels.inputs.Total Number of Shares")),t.xp6(4),t.Oqu(t.lcZ(66,56,a.sharesAccount.requestedShares)),t.xp6(7),t.Oqu(t.lcZ(73,58,"labels.inputs.Current Price")),t.xp6(4),t.Oqu(t.lcZ(77,60,a.sharesAccountTermsForm.get("unitPrice").value)),t.xp6(7),t.Oqu(t.lcZ(84,62,"labels.inputs.Amount")),t.xp6(4),t.Oqu(t.lcZ(88,64,a.sharesAccount.requestedShares*a.sharesAccountTermsForm.get("unitPrice").value)),t.xp6(7),t.Oqu(t.lcZ(95,66,"labels.inputs.Default Savings Account")),t.xp6(4),t.Oqu(t.gM2(99,68,a.sharesAccount.savingsAccountId,a.sharesAccountProductTemplate.clientSavingsAccounts,"id","accountNo")),t.xp6(4),t.Q6J("ngIf",a.sharesAccount.minimumActivePeriod),t.xp6(2),t.Q6J("ngIf",a.sharesAccount.lockinPeriodFrequency),t.xp6(5),t.Oqu(t.lcZ(110,73,"labels.inputs.Application Date")),t.xp6(4),t.Oqu(t.lcZ(114,75,a.sharesAccount.applicationDate)),t.xp6(7),t.Oqu(t.lcZ(121,77,"labels.inputs.Allow dividends for inactive clients")),t.xp6(4),t.Oqu(t.lcZ(125,79,a.sharesAccount.allowDividendCalculationForInactiveClients)),t.xp6(4),t.Q6J("ngIf",a.sharesAccount.charges.length),t.xp6(8),t.hij("\n    ",t.lcZ(137,81,"labels.buttons.Previous"),"\n  "),t.xp6(3),t.Q6J("routerLink",t.DdM(89,cn)),t.xp6(1),t.hij("\n    ",t.lcZ(141,83,"labels.buttons.Cancel"),"\n  "),t.xp6(4),t.hij("\n    ",t.lcZ(145,85,"labels.buttons.Submit"),"\n  "))},dependencies:[d.O5,v.BN,U.lW,Re.d,T.fd,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,X.e,m.rH,g.X$,Ee.Z,q.E,Q.w,je.D,y.X],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-elevation-z1[_ngcontent-%COMP%]{margin:1em 0 1.5em}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0;font-weight:500}span[_ngcontent-%COMP%]{margin:.5em 0}mat-divider[_ngcontent-%COMP%]{margin:0 0 .5em}.margin-t[_ngcontent-%COMP%]{margin-top:1em}"]})}return e})();function un(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",14),t._uU(2,"\n    "))}function ln(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",14),t._uU(2,"\n    "))}function mn(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",15),t._uU(2,"\n    "))}function pn(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",16),t._uU(2,"\n    "))}function _n(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",17),t._uU(2,"\n    "))}function hn(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.DETAILS"))}function dn(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.TERMS"))}function An(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.CHARGES"))}function gn(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.PREVIEW"))}function Un(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-step",18),t._uU(1,"\n      "),t.YNc(2,gn,2,3,"ng-template",9),t._uU(3,"\n\n      "),t.TgZ(4,"mifosx-shares-account-preview-step",19),t.NdJ("submitEvent",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.submit())}),t._uU(5,"\n      "),t.qZA(),t._uU(6,"\n    "),t.qZA()}if(2&e){const n=t.oxw();t.xp6(4),t.Q6J("sharesAccountProductTemplate",n.sharesAccountProductTemplate)("sharesAccountTemplate",n.sharesAccountTemplate)("sharesAccountTermsForm",n.sharesAccountTermsForm)("sharesAccount",n.sharesAccount)}}let fn=(()=>{class e{constructor(n,s,a,r,c){this.route=n,this.router=s,this.dateUtils=a,this.sharesService=r,this.settingsService=c,this.route.data.subscribe(p=>{this.sharesAccountTemplate=p.sharesAccountTemplate})}setTemplate(n){this.sharesAccountProductTemplate=n}get sharesAccountDetailsForm(){return this.sharesAccountDetailsStep.sharesAccountDetailsForm}get sharesAccountTermsForm(){return this.sharesAccountTermsStep.sharesAccountTermsForm}get sharesAccountFormValid(){return this.sharesAccountDetailsForm.valid&&this.sharesAccountTermsForm.valid}get sharesAccount(){return{...this.sharesAccountDetailsStep.sharesAccountDetails,...this.sharesAccountTermsStep.sharesAccountTerms,...this.sharesAccountChargesStep.sharesAccountCharges}}submit(){const n=this.settingsService.language.code,s=this.settingsService.dateFormat,a={...this.sharesAccount,clientId:this.sharesAccountTemplate.clientId,charges:this.sharesAccount.charges.map(r=>({chargeId:r.id,amount:r.amount})),applicationDate:this.dateUtils.formatDate(this.sharesAccount.applicationDate,s),submittedDate:this.dateUtils.formatDate(this.sharesAccount.submittedDate,s),unitPrice:this.sharesAccountTermsForm.get("unitPrice").value,dateFormat:s,locale:n};this.sharesService.createSharesAccount(a).subscribe(r=>{this.router.navigate(["../",r.resourceId],{relativeTo:this.route})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(m.gz),t.Y36(m.F0),t.Y36(x.L),t.Y36(f),t.Y36(b.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-create-shares-account"]],viewQuery:function(s,a){if(1&s&&(t.Gf(N,7),t.Gf(L,7),t.Gf(w,7)),2&s){let r;t.iGM(r=t.CRH())&&(a.sharesAccountDetailsStep=r.first),t.iGM(r=t.CRH())&&(a.sharesAccountTermsStep=r.first),t.iGM(r=t.CRH())&&(a.sharesAccountChargesStep=r.first)}},decls:42,vars:8,consts:[[1,"container"],["labelPosition","bottom",1,"mat-elevation-z8"],["shareProductStepper",""],["matStepperIcon","number"],["matStepperIcon","edit"],["matStepperIcon","done"],["matStepperIcon","error"],["matStepperIcon","preview"],[3,"stepControl"],["matStepLabel",""],[3,"sharesAccountTemplate","sharesAccountProductTemplate"],[3,"sharesAccountProductTemplate"],[3,"sharesAccountProductTemplate","sharesAccountTemplate","currencyCode"],["completed","",4,"ngIf"],["icon","pencil-alt","size","sm"],["icon","check","size","sm"],["icon","exclamation-triangle","size","lg"],["icon","eye","size","sm"],["completed",""],[3,"sharesAccountProductTemplate","sharesAccountTemplate","sharesAccountTermsForm","sharesAccount","submitEvent"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"mat-horizontal-stepper",1,2),t._uU(4,"\n    "),t.YNc(5,un,3,0,"ng-template",3),t._uU(6,"\n\n    "),t.YNc(7,ln,3,0,"ng-template",4),t._uU(8,"\n\n    "),t.YNc(9,mn,3,0,"ng-template",5),t._uU(10,"\n\n    "),t.YNc(11,pn,3,0,"ng-template",6),t._uU(12,"\n\n    "),t.YNc(13,_n,3,0,"ng-template",7),t._uU(14,"\n\n    "),t.TgZ(15,"mat-step",8),t._uU(16,"\n      "),t.YNc(17,hn,2,3,"ng-template",9),t._uU(18,"\n\n      "),t.TgZ(19,"mifosx-shares-account-details-step",10),t.NdJ("sharesAccountProductTemplate",function(c){return a.setTemplate(c)}),t._uU(20,"\n      "),t.qZA(),t._uU(21,"\n    "),t.qZA(),t._uU(22,"\n\n    "),t.TgZ(23,"mat-step",8),t._uU(24,"\n      "),t.YNc(25,dn,2,3,"ng-template",9),t._uU(26,"\n\n      "),t._UZ(27,"mifosx-shares-account-terms-step",11),t._uU(28,"\n    "),t.qZA(),t._uU(29,"\n\n    "),t.TgZ(30,"mat-step"),t._uU(31,"\n      "),t.YNc(32,An,2,3,"ng-template",9),t._uU(33,"\n\n      "),t.TgZ(34,"mifosx-shares-account-charges-step",12),t._uU(35,"\n      "),t.qZA(),t._uU(36,"\n    "),t.qZA(),t._uU(37,"\n\n    "),t.YNc(38,Un,7,4,"mat-step",13),t._uU(39,"\n  "),t.qZA(),t._uU(40,"\n"),t.qZA(),t._uU(41,"\n")),2&s&&(t.xp6(15),t.Q6J("stepControl",a.sharesAccountDetailsForm),t.xp6(4),t.Q6J("sharesAccountTemplate",a.sharesAccountTemplate),t.xp6(4),t.Q6J("stepControl",a.sharesAccountTermsForm),t.xp6(4),t.Q6J("sharesAccountProductTemplate",a.sharesAccountProductTemplate),t.xp6(7),t.Q6J("sharesAccountProductTemplate",a.sharesAccountProductTemplate)("sharesAccountTemplate",a.sharesAccountTemplate)("currencyCode",a.sharesAccountTermsForm.get("currencyCode")),t.xp6(4),t.Q6J("ngIf",a.sharesAccountFormValid))},dependencies:[d.O5,v.BN,T.C0,T.VY,T.Vq,T.z9,N,L,w,V,g.X$]})}return e})();function Zn(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",14),t._uU(2,"\n    "))}function Tn(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",14),t._uU(2,"\n    "))}function bn(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",15),t._uU(2,"\n    "))}function Cn(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",16),t._uU(2,"\n    "))}function xn(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",17),t._uU(2,"\n    "))}function vn(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.DETAILS"))}function Sn(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.TERMS"))}function qn(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.CHARGES"))}function Dn(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.PREVIEW"))}function yn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-step",18),t._uU(1,"\n      "),t.YNc(2,Dn,2,3,"ng-template",9),t._uU(3,"\n\n      "),t.TgZ(4,"mifosx-shares-account-preview-step",19),t.NdJ("submitEvent",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.submit())}),t._uU(5,"\n      "),t.qZA(),t._uU(6,"\n    "),t.qZA()}if(2&e){const n=t.oxw();t.xp6(4),t.Q6J("sharesAccountProductTemplate",n.sharesAccountProductTemplate)("sharesAccountTemplate",n.sharesAccountAndTemplate)("sharesAccountTermsForm",n.sharesAccountTermsForm)("sharesAccount",n.sharesAccount)}}let On=(()=>{class e{constructor(n,s,a,r,c){this.route=n,this.router=s,this.dateUtils=a,this.sharesService=r,this.settingsService=c,this.route.data.subscribe(p=>{this.sharesAccountAndTemplate=p.sharesAccountAndTemplate})}setTemplate(n){this.sharesAccountProductTemplate=n}get sharesAccountDetailsForm(){return this.sharesAccountDetailsStep.sharesAccountDetailsForm}get sharesAccountTermsForm(){return this.sharesAccountTermsStep.sharesAccountTermsForm}get sharesAccountFormValidAndNotPristine(){return this.sharesAccountDetailsForm.valid&&this.sharesAccountTermsForm.valid&&(!this.sharesAccountDetailsForm.pristine||!this.sharesAccountTermsForm.pristine||!this.sharesAccountChargesStep.pristine)}get sharesAccount(){return{...this.sharesAccountDetailsStep.sharesAccountDetails,...this.sharesAccountTermsStep.sharesAccountTerms,...this.sharesAccountChargesStep.sharesAccountCharges}}submit(){const n=this.settingsService.language.code,s=this.settingsService.dateFormat,a={...this.sharesAccount,clientId:this.sharesAccountAndTemplate.clientId,charges:this.sharesAccount.charges.map(r=>({chargeId:r.id,amount:r.amount})),applicationDate:this.dateUtils.formatDate(this.sharesAccount.applicationDate,s),submittedDate:this.dateUtils.formatDate(this.sharesAccount.submittedDate,s),unitPrice:this.sharesAccountTermsForm.get("unitPrice").value,dateFormat:s,locale:n};this.sharesService.updateSharesAccount(this.sharesAccountAndTemplate.id,a).subscribe(r=>{this.router.navigate(["../"],{relativeTo:this.route})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(m.gz),t.Y36(m.F0),t.Y36(x.L),t.Y36(f),t.Y36(b.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-edit-shares-account"]],viewQuery:function(s,a){if(1&s&&(t.Gf(N,7),t.Gf(L,7),t.Gf(w,7)),2&s){let r;t.iGM(r=t.CRH())&&(a.sharesAccountDetailsStep=r.first),t.iGM(r=t.CRH())&&(a.sharesAccountTermsStep=r.first),t.iGM(r=t.CRH())&&(a.sharesAccountChargesStep=r.first)}},decls:43,vars:9,consts:[[1,"container"],["labelPosition","bottom",1,"mat-elevation-z8"],["shareProductStepper",""],["matStepperIcon","number"],["matStepperIcon","edit"],["matStepperIcon","done"],["matStepperIcon","error"],["matStepperIcon","preview"],[3,"stepControl"],["matStepLabel",""],[3,"sharesAccountTemplate","sharesAccountProductTemplate"],[3,"sharesAccountProductTemplate","sharesAccountTemplate"],[3,"sharesAccountProductTemplate","sharesAccountTemplate","currencyCode"],["completed","",4,"ngIf"],["icon","pencil-alt","size","sm"],["icon","check","size","sm"],["icon","exclamation-triangle","size","lg"],["icon","eye","size","sm"],["completed",""],[3,"sharesAccountProductTemplate","sharesAccountTemplate","sharesAccountTermsForm","sharesAccount","submitEvent"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"mat-horizontal-stepper",1,2),t._uU(4,"\n    "),t.YNc(5,Zn,3,0,"ng-template",3),t._uU(6,"\n\n    "),t.YNc(7,Tn,3,0,"ng-template",4),t._uU(8,"\n\n    "),t.YNc(9,bn,3,0,"ng-template",5),t._uU(10,"\n\n    "),t.YNc(11,Cn,3,0,"ng-template",6),t._uU(12,"\n\n    "),t.YNc(13,xn,3,0,"ng-template",7),t._uU(14,"\n\n    "),t.TgZ(15,"mat-step",8),t._uU(16,"\n      "),t.YNc(17,vn,2,3,"ng-template",9),t._uU(18,"\n\n      "),t.TgZ(19,"mifosx-shares-account-details-step",10),t.NdJ("sharesAccountProductTemplate",function(c){return a.setTemplate(c)}),t._uU(20,"\n      "),t.qZA(),t._uU(21,"\n    "),t.qZA(),t._uU(22,"\n\n    "),t.TgZ(23,"mat-step",8),t._uU(24,"\n      "),t.YNc(25,Sn,2,3,"ng-template",9),t._uU(26,"\n\n      "),t.TgZ(27,"mifosx-shares-account-terms-step",11),t._uU(28,"\n      "),t.qZA(),t._uU(29,"\n    "),t.qZA(),t._uU(30,"\n\n    "),t.TgZ(31,"mat-step"),t._uU(32,"\n      "),t.YNc(33,qn,2,3,"ng-template",9),t._uU(34,"\n\n      "),t.TgZ(35,"mifosx-shares-account-charges-step",12),t._uU(36,"\n      "),t.qZA(),t._uU(37,"\n    "),t.qZA(),t._uU(38,"\n\n    "),t.YNc(39,yn,7,4,"mat-step",13),t._uU(40,"\n  "),t.qZA(),t._uU(41,"\n"),t.qZA(),t._uU(42,"\n")),2&s&&(t.xp6(15),t.Q6J("stepControl",a.sharesAccountDetailsForm),t.xp6(4),t.Q6J("sharesAccountTemplate",a.sharesAccountAndTemplate),t.xp6(4),t.Q6J("stepControl",a.sharesAccountTermsForm),t.xp6(4),t.Q6J("sharesAccountProductTemplate",a.sharesAccountProductTemplate)("sharesAccountTemplate",a.sharesAccountAndTemplate),t.xp6(8),t.Q6J("sharesAccountProductTemplate",a.sharesAccountProductTemplate)("sharesAccountTemplate",a.sharesAccountAndTemplate)("currencyCode",a.sharesAccountTermsForm.get("currencyCode")),t.xp6(4),t.Q6J("ngIf",a.sharesAccountFormValidAndNotPristine))},dependencies:[d.O5,v.BN,T.C0,T.VY,T.Vq,T.z9,N,L,w,V,g.X$]})}return e})();var R=l(39349);function Pn(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Approved On Date")," ",t.lcZ(3,5,"labels.commons.is"),"\n              "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}const Nn=function(){return["../../"]};let Ln=(()=>{class e{constructor(n,s,a,r,c,p){this.formBuilder=n,this.sharesService=s,this.dateUtils=a,this.route=r,this.router=c,this.settingsService=p,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createApproveSharesAccountForm()}createApproveSharesAccountForm(){this.approveSharesAccountForm=this.formBuilder.group({approvedDate:["",i.kI.required],note:[""]})}submit(){const n=this.approveSharesAccountForm.value,s=this.settingsService.language.code,a=this.settingsService.dateFormat;n.approvedDate instanceof Date&&(n.approvedDate=this.dateUtils.formatDate(this.approveSharesAccountForm.value.approvedDate,a));const c={...n,dateFormat:a,locale:s};this.sharesService.executeSharesAccountCommand(this.accountId,"approve",c).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(i.QS),t.Y36(f),t.Y36(x.L),t.Y36(m.gz),t.Y36(m.F0),t.Y36(b.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-approve-shares-account"]],decls:51,vars:21,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"layout-column"],[3,"click"],["matInput","","required","","formControlName","approvedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["approvedDatePicker",""],[4,"ngIf"],["matInput","","formControlName","note","cdkTextareaAutosize","","cdkAutosizeMinRows","2"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(s,a){if(1&s){const r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n        "),t.TgZ(8,"div",2),t._uU(9,"\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){t.CHM(r);const p=t.MAs(21);return t.KtG(p.open())}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._uU(15,"\n            "),t._UZ(16,"input",4),t._uU(17,"\n            "),t._UZ(18,"mat-datepicker-toggle",5),t._uU(19,"\n            "),t._UZ(20,"mat-datepicker",null,6),t._uU(22,"\n            "),t.YNc(23,Pn,8,9,"mat-error",7),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n\n          "),t.TgZ(26,"mat-form-field"),t._uU(27,"\n            "),t.TgZ(28,"mat-label"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._uU(31,"\n            "),t._UZ(32,"textarea",8),t._uU(33,"\n          "),t.qZA(),t._uU(34,"\n        "),t.qZA(),t._uU(35,"\n      "),t.qZA(),t._uU(36,"\n\n      "),t.TgZ(37,"mat-card-actions",9),t._uU(38,"\n        "),t.TgZ(39,"button",10),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._uU(42,"\n        "),t.TgZ(43,"button",11),t._uU(44),t.ALo(45,"translate"),t.qZA(),t._uU(46,"\n      "),t.qZA(),t._uU(47,"\n    "),t.qZA(),t._uU(48,"\n  "),t.qZA(),t._uU(49,"\n"),t.qZA(),t._uU(50,"\n")}if(2&s){const r=t.MAs(21);t.xp6(4),t.Q6J("formGroup",a.approveSharesAccountForm),t.xp6(9),t.Oqu(t.lcZ(14,12,"labels.inputs.Approved On Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",r),t.xp6(2),t.Q6J("for",r),t.xp6(5),t.Q6J("ngIf",a.approveSharesAccountForm.controls.approvedDate.hasError("required")),t.xp6(6),t.Oqu(t.lcZ(30,14,"labels.inputs.Note")),t.xp6(10),t.Q6J("routerLink",t.DdM(20,Nn)),t.xp6(1),t.hij("\n          ",t.lcZ(41,16,"labels.buttons.Cancel"),"\n        "),t.xp6(3),t.Q6J("disabled",!a.approveSharesAccountForm.valid),t.xp6(1),t.hij("\n          ",t.lcZ(45,18,"labels.buttons.Submit"),"\n        ")}},dependencies:[d.O5,U.lW,h.a8,h.hq,h.dn,A.Mq,A.hl,A.nW,_.KE,_.hX,_.TO,_.R9,C.Nt,R.IC,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,m.rH,g.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]})}return e})();function wn(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Rejected On Date")," ",t.lcZ(3,5,"labels.commons.is"),"\n              "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}const Fn=function(){return["../../"]};let Yn=(()=>{class e{constructor(n,s,a,r,c,p){this.formBuilder=n,this.sharesService=s,this.dateUtils=a,this.route=r,this.router=c,this.settingsService=p,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createRejectSharesAccountForm()}createRejectSharesAccountForm(){this.rejectSharesAccountForm=this.formBuilder.group({rejectedDate:["",i.kI.required],note:[""]})}submit(){const n=this.rejectSharesAccountForm.value,s=this.settingsService.language.code,a=this.settingsService.dateFormat;n.rejectedDate instanceof Date&&(n.rejectedDate=this.dateUtils.formatDate(this.rejectSharesAccountForm.value.rejectedDate,a));const c={...n,dateFormat:a,locale:s};this.sharesService.executeSharesAccountCommand(this.accountId,"reject",c).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(i.QS),t.Y36(f),t.Y36(x.L),t.Y36(m.gz),t.Y36(m.F0),t.Y36(b.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-reject-shares-account"]],decls:51,vars:21,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"layout-column"],[3,"click"],["matInput","","required","","formControlName","rejectedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["rejectedDatePicker",""],[4,"ngIf"],["matInput","","formControlName","note","cdkTextareaAutosize","","cdkAutosizeMinRows","2"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"disabled"]],template:function(s,a){if(1&s){const r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n        "),t.TgZ(8,"div",2),t._uU(9,"\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){t.CHM(r);const p=t.MAs(21);return t.KtG(p.open())}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._uU(15,"\n            "),t._UZ(16,"input",4),t._uU(17,"\n            "),t._UZ(18,"mat-datepicker-toggle",5),t._uU(19,"\n            "),t._UZ(20,"mat-datepicker",null,6),t._uU(22,"\n            "),t.YNc(23,wn,8,9,"mat-error",7),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n\n          "),t.TgZ(26,"mat-form-field"),t._uU(27,"\n            "),t.TgZ(28,"mat-label"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._uU(31,"\n            "),t._UZ(32,"textarea",8),t._uU(33,"\n          "),t.qZA(),t._uU(34,"\n        "),t.qZA(),t._uU(35,"\n      "),t.qZA(),t._uU(36,"\n\n      "),t.TgZ(37,"mat-card-actions",9),t._uU(38,"\n        "),t.TgZ(39,"button",10),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._uU(42,"\n        "),t.TgZ(43,"button",11),t._uU(44),t.ALo(45,"translate"),t.qZA(),t._uU(46,"\n      "),t.qZA(),t._uU(47,"\n    "),t.qZA(),t._uU(48,"\n  "),t.qZA(),t._uU(49,"\n"),t.qZA(),t._uU(50,"\n")}if(2&s){const r=t.MAs(21);t.xp6(4),t.Q6J("formGroup",a.rejectSharesAccountForm),t.xp6(9),t.Oqu(t.lcZ(14,12,"labels.inputs.Rejected On Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",r),t.xp6(2),t.Q6J("for",r),t.xp6(5),t.Q6J("ngIf",a.rejectSharesAccountForm.controls.rejectedDate.hasError("required")),t.xp6(6),t.Oqu(t.lcZ(30,14,"labels.inputs.Note")),t.xp6(10),t.Q6J("routerLink",t.DdM(20,Fn)),t.xp6(1),t.hij("\n          ",t.lcZ(41,16,"labels.buttons.Cancel"),"\n        "),t.xp6(3),t.Q6J("disabled",!a.rejectSharesAccountForm.valid),t.xp6(1),t.hij("\n          ",t.lcZ(45,18,"labels.buttons.Submit"),"\n        ")}},dependencies:[d.O5,U.lW,h.a8,h.hq,h.dn,A.Mq,A.hl,A.nW,_.KE,_.hX,_.TO,_.R9,C.Nt,R.IC,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,m.rH,g.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]})}return e})();function In(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Closed On Date")," ",t.lcZ(3,5,"labels.commons.is"),"\n              "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}const kn=function(){return["../../"]};let Qn=(()=>{class e{constructor(n,s,a,r,c,p){this.formBuilder=n,this.sharesService=s,this.dateUtils=a,this.route=r,this.router=c,this.settingsService=p,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createCloseSharesAccountForm()}createCloseSharesAccountForm(){this.closeSharesAccountForm=this.formBuilder.group({closedDate:["",i.kI.required],note:[""]})}submit(){const n=this.closeSharesAccountForm.value,s=this.settingsService.language.code,a=this.settingsService.dateFormat;n.closedDate instanceof Date&&(n.closedDate=this.dateUtils.formatDate(this.closeSharesAccountForm.value.closedDate,a));const c={...n,dateFormat:a,locale:s};this.sharesService.executeSharesAccountCommand(this.accountId,"close",c).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(i.QS),t.Y36(f),t.Y36(x.L),t.Y36(m.gz),t.Y36(m.F0),t.Y36(b.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-close-shares-account"]],decls:51,vars:21,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"layout-column"],[3,"click"],["matInput","","required","","formControlName","closedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["closedDatePicker",""],[4,"ngIf"],["matInput","","formControlName","note","cdkTextareaAutosize","","cdkAutosizeMinRows","2"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"disabled"]],template:function(s,a){if(1&s){const r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n        "),t.TgZ(8,"div",2),t._uU(9,"\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){t.CHM(r);const p=t.MAs(21);return t.KtG(p.open())}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._uU(15,"\n            "),t._UZ(16,"input",4),t._uU(17,"\n            "),t._UZ(18,"mat-datepicker-toggle",5),t._uU(19,"\n            "),t._UZ(20,"mat-datepicker",null,6),t._uU(22,"\n            "),t.YNc(23,In,8,9,"mat-error",7),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n\n          "),t.TgZ(26,"mat-form-field"),t._uU(27,"\n            "),t.TgZ(28,"mat-label"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._uU(31,"\n            "),t._UZ(32,"textarea",8),t._uU(33,"\n          "),t.qZA(),t._uU(34,"\n        "),t.qZA(),t._uU(35,"\n      "),t.qZA(),t._uU(36,"\n\n      "),t.TgZ(37,"mat-card-actions",9),t._uU(38,"\n        "),t.TgZ(39,"button",10),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._uU(42,"\n        "),t.TgZ(43,"button",11),t._uU(44),t.ALo(45,"translate"),t.qZA(),t._uU(46,"\n      "),t.qZA(),t._uU(47,"\n    "),t.qZA(),t._uU(48,"\n  "),t.qZA(),t._uU(49,"\n"),t.qZA(),t._uU(50,"\n")}if(2&s){const r=t.MAs(21);t.xp6(4),t.Q6J("formGroup",a.closeSharesAccountForm),t.xp6(9),t.Oqu(t.lcZ(14,12,"labels.inputs.Closed On Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",r),t.xp6(2),t.Q6J("for",r),t.xp6(5),t.Q6J("ngIf",a.closeSharesAccountForm.controls.closedDate.hasError("required")),t.xp6(6),t.Oqu(t.lcZ(30,14,"labels.inputs.Note")),t.xp6(10),t.Q6J("routerLink",t.DdM(20,kn)),t.xp6(1),t.hij("\n          ",t.lcZ(41,16,"labels.buttons.Cancel"),"\n        "),t.xp6(3),t.Q6J("disabled",!a.closeSharesAccountForm.valid),t.xp6(1),t.hij("\n          ",t.lcZ(45,18,"labels.buttons.Submit"),"\n        ")}},dependencies:[d.O5,U.lW,h.a8,h.hq,h.dn,A.Mq,A.hl,A.nW,_.KE,_.hX,_.TO,_.R9,C.Nt,R.IC,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,m.rH,g.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]})}return e})();function Jn(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n          "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n            ",t.lcZ(2,3,"labels.inputs.Activated On Date")," ",t.lcZ(3,5,"labels.commons.is"),"\n            "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}const Mn=function(){return["../../"]};let Rn=(()=>{class e{constructor(n,s,a,r,c,p){this.formBuilder=n,this.sharesService=s,this.dateUtils=a,this.route=r,this.router=c,this.settingsService=p,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createActivateSharesAccountForm()}createActivateSharesAccountForm(){this.activateSharesAccountForm=this.formBuilder.group({activatedDate:["",i.kI.required]})}submit(){const n=this.activateSharesAccountForm.value,s=this.settingsService.language.code,a=this.settingsService.dateFormat;n.activatedDate instanceof Date&&(n.activatedDate=this.dateUtils.formatDate(this.activateSharesAccountForm.value.activatedDate,a));const c={...n,dateFormat:a,locale:s};this.sharesService.executeSharesAccountCommand(this.accountId,"activate",c).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(i.QS),t.Y36(f),t.Y36(x.L),t.Y36(m.gz),t.Y36(m.F0),t.Y36(b.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-activate-shares-account"]],decls:39,vars:18,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"flex-fill",3,"click"],["matInput","","required","","formControlName","activatedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["activatedDatePicker",""],[4,"ngIf"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(s,a){if(1&s){const r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n        "),t.TgZ(8,"mat-form-field",2),t.NdJ("click",function(){t.CHM(r);const p=t.MAs(19);return t.KtG(p.open())}),t._uU(9,"\n          "),t.TgZ(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._uU(13,"\n          "),t._UZ(14,"input",3),t._uU(15,"\n          "),t._UZ(16,"mat-datepicker-toggle",4),t._uU(17,"\n          "),t._UZ(18,"mat-datepicker",null,5),t._uU(20,"\n          "),t.YNc(21,Jn,8,9,"mat-error",6),t._uU(22,"\n        "),t.qZA(),t._uU(23,"\n      "),t.qZA(),t._uU(24,"\n\n      "),t.TgZ(25,"mat-card-actions",7),t._uU(26,"\n        "),t.TgZ(27,"button",8),t._uU(28),t.ALo(29,"translate"),t.qZA(),t._uU(30,"\n        "),t.TgZ(31,"button",9),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._uU(34,"\n      "),t.qZA(),t._uU(35,"\n    "),t.qZA(),t._uU(36,"\n  "),t.qZA(),t._uU(37,"\n"),t.qZA(),t._uU(38,"\n")}if(2&s){const r=t.MAs(19);t.xp6(4),t.Q6J("formGroup",a.activateSharesAccountForm),t.xp6(7),t.Oqu(t.lcZ(12,11,"labels.inputs.Activated On Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",r),t.xp6(2),t.Q6J("for",r),t.xp6(5),t.Q6J("ngIf",a.activateSharesAccountForm.controls.activatedDate.hasError("required")),t.xp6(6),t.Q6J("routerLink",t.DdM(17,Mn)),t.xp6(1),t.hij("\n          ",t.lcZ(29,13,"labels.buttons.Cancel"),"\n        "),t.xp6(3),t.Q6J("disabled",!a.activateSharesAccountForm.valid),t.xp6(1),t.hij("\n          ",t.lcZ(33,15,"labels.buttons.Submit"),"\n        ")}},dependencies:[d.O5,U.lW,h.a8,h.hq,h.dn,A.Mq,A.hl,A.nW,_.KE,_.hX,_.TO,_.R9,C.Nt,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,m.rH,g.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]})}return e})();const En=function(){return["../../"]};let jn=(()=>{class e{constructor(n,s,a){this.sharesService=n,this.route=s,this.router=a,this.accountId=this.route.parent.snapshot.params.shareAccountId}submit(){this.sharesService.executeSharesAccountCommand(this.accountId,"undoapproval",{}).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(f),t.Y36(m.gz),t.Y36(m.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-undo-approval-shares-account"]],decls:30,vars:12,consts:[[1,"container"],[3,"ngSubmit"],[1,"mat-typography","confirm-text"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n        "),t.TgZ(8,"div"),t._uU(9,"\n          "),t.TgZ(10,"p",2),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._uU(13,"\n        "),t.qZA(),t._uU(14,"\n      "),t.qZA(),t._uU(15,"\n\n      "),t.TgZ(16,"mat-card-actions",3),t._uU(17,"\n        "),t.TgZ(18,"button",4),t._uU(19),t.ALo(20,"translate"),t.qZA(),t._uU(21,"\n        "),t.TgZ(22,"button",5),t._uU(23),t.ALo(24,"translate"),t.qZA(),t._uU(25,"\n      "),t.qZA(),t._uU(26,"\n    "),t.qZA(),t._uU(27,"\n  "),t.qZA(),t._uU(28,"\n"),t.qZA(),t._uU(29,"\n")),2&s&&(t.xp6(11),t.AsE("\n            ",t.lcZ(12,5,"labels.text.Undo approval of shares account with ID"),": ",a.accountId," ?\n          "),t.xp6(7),t.Q6J("routerLink",t.DdM(11,En)),t.xp6(1),t.hij("\n          ",t.lcZ(20,7,"labels.buttons.Cancel"),"\n        "),t.xp6(4),t.Oqu(t.lcZ(24,9,"labels.buttons.Submit")))},dependencies:[U.lW,h.a8,h.hq,h.dn,i._Y,i.JL,i.F,m.rH,g.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}.container[_ngcontent-%COMP%]   .confirm-text[_ngcontent-%COMP%]{font-size:16px;text-align:center}"]})}return e})();function Hn(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Request Date")," ",t.lcZ(3,5,"labels.commons.is"),"\n              "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}function Bn(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Requested Shares")," ",t.lcZ(3,5,"labels.commons.is"),"\n              "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}const Gn=function(){return["../../"]};let $n=(()=>{class e{constructor(n,s,a,r,c,p){this.formBuilder=n,this.sharesService=s,this.dateUtils=a,this.route=r,this.router=c,this.settingsService=p,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(S=>{this.sharesAccountData=S.shareAccountActionData})}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createApplySharesAccountForm(),this.applySharesForm.get("unitPrice").patchValue(this.sharesAccountData.currentMarketPrice||"")}createApplySharesAccountForm(){this.applySharesForm=this.formBuilder.group({requestedDate:["",i.kI.required],requestedShares:["",i.kI.required],unitPrice:[{value:"",disabled:!0}]})}submit(){const n=this.applySharesForm.value,s=this.settingsService.language.code,a=this.settingsService.dateFormat;n.requestedDate instanceof Date&&(n.requestedDate=this.dateUtils.formatDate(this.applySharesForm.value.requestedDate,a));const c={...n,unitPrice:this.applySharesForm.get("unitPrice").value,dateFormat:a,locale:s};this.sharesService.executeSharesAccountCommand(this.accountId,"applyadditionalshares",c).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(i.QS),t.Y36(f),t.Y36(x.L),t.Y36(m.gz),t.Y36(m.F0),t.Y36(b.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-apply-shares"]],decls:62,vars:25,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"layout-column"],[3,"click"],["matInput","","required","","formControlName","requestedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["requestedDatePicker",""],[4,"ngIf"],["matInput","","required","","formControlName","requestedShares"],["matInput","","required","","formControlName","unitPrice"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(s,a){if(1&s){const r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n        "),t.TgZ(8,"div",2),t._uU(9,"\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){t.CHM(r);const p=t.MAs(21);return t.KtG(p.open())}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._uU(15,"\n            "),t._UZ(16,"input",4),t._uU(17,"\n            "),t._UZ(18,"mat-datepicker-toggle",5),t._uU(19,"\n            "),t._UZ(20,"mat-datepicker",null,6),t._uU(22,"\n            "),t.YNc(23,Hn,8,9,"mat-error",7),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n\n          "),t.TgZ(26,"mat-form-field"),t._uU(27,"\n            "),t.TgZ(28,"mat-label"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._uU(31,"\n            "),t._UZ(32,"input",8),t._uU(33,"\n            "),t.YNc(34,Bn,8,9,"mat-error",7),t._uU(35,"\n          "),t.qZA(),t._uU(36,"\n\n          "),t.TgZ(37,"mat-form-field"),t._uU(38,"\n            "),t.TgZ(39,"mat-label"),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._uU(42,"\n            "),t._UZ(43,"input",9),t._uU(44,"\n          "),t.qZA(),t._uU(45,"\n        "),t.qZA(),t._uU(46,"\n      "),t.qZA(),t._uU(47,"\n\n      "),t.TgZ(48,"mat-card-actions",10),t._uU(49,"\n        "),t.TgZ(50,"button",11),t._uU(51),t.ALo(52,"translate"),t.qZA(),t._uU(53,"\n        "),t.TgZ(54,"button",12),t._uU(55),t.ALo(56,"translate"),t.qZA(),t._uU(57,"\n      "),t.qZA(),t._uU(58,"\n    "),t.qZA(),t._uU(59,"\n  "),t.qZA(),t._uU(60,"\n"),t.qZA(),t._uU(61,"\n")}if(2&s){const r=t.MAs(21);t.xp6(4),t.Q6J("formGroup",a.applySharesForm),t.xp6(9),t.Oqu(t.lcZ(14,14,"labels.inputs.Request Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",r),t.xp6(2),t.Q6J("for",r),t.xp6(5),t.Q6J("ngIf",a.applySharesForm.controls.requestedDate.hasError("required")),t.xp6(6),t.Oqu(t.lcZ(30,16,"labels.inputs.Total No. of Shares")),t.xp6(5),t.Q6J("ngIf",a.applySharesForm.controls.requestedShares.hasError("required")),t.xp6(6),t.Oqu(t.lcZ(41,18,"labels.inputs.Current Price")),t.xp6(10),t.Q6J("routerLink",t.DdM(24,Gn)),t.xp6(1),t.hij("\n          ",t.lcZ(52,20,"labels.buttons.Cancel"),"\n        "),t.xp6(3),t.Q6J("disabled",!a.applySharesForm.valid),t.xp6(1),t.hij("\n          ",t.lcZ(56,22,"labels.buttons.Submit"),"\n        ")}},dependencies:[d.O5,U.lW,h.a8,h.hq,h.dn,A.Mq,A.hl,A.nW,_.KE,_.hX,_.TO,_.R9,C.Nt,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,m.rH,g.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]})}return e})();function zn(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Request Date")," ",t.lcZ(3,5,"labels.commons.is"),"\n              "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}function Xn(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Requested Shares")," ",t.lcZ(3,5,"labels.commons.is"),"\n              "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}const Vn=function(){return["../../"]};let Kn=(()=>{class e{constructor(n,s,a,r,c,p){this.formBuilder=n,this.sharesService=s,this.dateUtils=a,this.route=r,this.router=c,this.settingsService=p,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(S=>{this.sharesAccountData=S.shareAccountActionData})}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createRedeemSharesAccountForm(),this.redeemSharesForm.get("unitPrice").patchValue(this.sharesAccountData.currentMarketPrice||"")}createRedeemSharesAccountForm(){this.redeemSharesForm=this.formBuilder.group({requestedDate:["",i.kI.required],requestedShares:["",i.kI.required],unitPrice:[{value:"",disabled:!0}]})}submit(){const n=this.redeemSharesForm.value,s=this.settingsService.language.code,a=this.settingsService.dateFormat;n.requestedDate instanceof Date&&(n.requestedDate=this.dateUtils.formatDate(this.redeemSharesForm.value.requestedDate,a));const c={...n,unitPrice:this.redeemSharesForm.get("unitPrice").value,dateFormat:a,locale:s};this.sharesService.executeSharesAccountCommand(this.accountId,"redeemshares",c).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(i.QS),t.Y36(f),t.Y36(x.L),t.Y36(m.gz),t.Y36(m.F0),t.Y36(b.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-redeem-shares"]],decls:62,vars:25,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"layout-column"],[3,"click"],["matInput","","required","","formControlName","requestedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["requestedDatePicker",""],[4,"ngIf"],["matInput","","required","","formControlName","requestedShares"],["matInput","","required","","formControlName","unitPrice"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"disabled"]],template:function(s,a){if(1&s){const r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n        "),t.TgZ(8,"div",2),t._uU(9,"\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){t.CHM(r);const p=t.MAs(21);return t.KtG(p.open())}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._uU(15,"\n            "),t._UZ(16,"input",4),t._uU(17,"\n            "),t._UZ(18,"mat-datepicker-toggle",5),t._uU(19,"\n            "),t._UZ(20,"mat-datepicker",null,6),t._uU(22,"\n            "),t.YNc(23,zn,8,9,"mat-error",7),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n\n          "),t.TgZ(26,"mat-form-field"),t._uU(27,"\n            "),t.TgZ(28,"mat-label"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._uU(31,"\n            "),t._UZ(32,"input",8),t._uU(33,"\n            "),t.YNc(34,Xn,8,9,"mat-error",7),t._uU(35,"\n          "),t.qZA(),t._uU(36,"\n\n          "),t.TgZ(37,"mat-form-field"),t._uU(38,"\n            "),t.TgZ(39,"mat-label"),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._uU(42,"\n            "),t._UZ(43,"input",9),t._uU(44,"\n          "),t.qZA(),t._uU(45,"\n        "),t.qZA(),t._uU(46,"\n      "),t.qZA(),t._uU(47,"\n\n      "),t.TgZ(48,"mat-card-actions",10),t._uU(49,"\n        "),t.TgZ(50,"button",11),t._uU(51),t.ALo(52,"translate"),t.qZA(),t._uU(53,"\n        "),t.TgZ(54,"button",12),t._uU(55),t.ALo(56,"translate"),t.qZA(),t._uU(57,"\n      "),t.qZA(),t._uU(58,"\n    "),t.qZA(),t._uU(59,"\n  "),t.qZA(),t._uU(60,"\n"),t.qZA(),t._uU(61,"\n")}if(2&s){const r=t.MAs(21);t.xp6(4),t.Q6J("formGroup",a.redeemSharesForm),t.xp6(9),t.Oqu(t.lcZ(14,14,"labels.inputs.Request Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",r),t.xp6(2),t.Q6J("for",r),t.xp6(5),t.Q6J("ngIf",a.redeemSharesForm.controls.requestedDate.hasError("required")),t.xp6(6),t.Oqu(t.lcZ(30,16,"labels.inputs.Total No. of Shares")),t.xp6(5),t.Q6J("ngIf",a.redeemSharesForm.controls.requestedShares.hasError("required")),t.xp6(6),t.Oqu(t.lcZ(41,18,"labels.inputs.Current Price")),t.xp6(10),t.Q6J("routerLink",t.DdM(24,Vn)),t.xp6(1),t.hij("\n          ",t.lcZ(52,20,"labels.buttons.Cancel"),"\n        "),t.xp6(3),t.Q6J("disabled",!a.redeemSharesForm.valid),t.xp6(1),t.hij("\n          ",t.lcZ(56,22,"labels.buttons.Submit"),"\n        ")}},dependencies:[d.O5,U.lW,h.a8,h.hq,h.dn,A.Mq,A.hl,A.nW,_.KE,_.hX,_.TO,_.R9,C.Nt,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,m.rH,g.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]})}return e})();var F=l(98739),D=l(96308);const Wn=function(){return{approve:!0}};let ta=(()=>{class e{constructor(n,s){this.dialogRef=n,this.data=s}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(Z.so),t.Y36(Z.WI))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-approve-share-dialog"]],decls:22,vars:15,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["align","end"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(s,a){1&s&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t._uU(3,"\n"),t.TgZ(4,"div",1),t._uU(5,"\n  "),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._uU(9,"\n"),t.qZA(),t._uU(10,"\n"),t.TgZ(11,"mat-dialog-actions",2),t._uU(12,"\n  "),t.TgZ(13,"button",3),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._uU(16,"\n  "),t.TgZ(17,"button",4),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._uU(20,"\n"),t.qZA(),t._uU(21,"\n")),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"labels.heading.Approve Share")),t.xp6(6),t.AsE("",t.lcZ(8,8,"labels.text.Are you sure you want to approve share with id"),": ",a.data.shareId," ?"),t.xp6(7),t.Oqu(t.lcZ(15,10,"labels.buttons.Cancel")),t.xp6(3),t.Q6J("mat-dialog-close",t.DdM(14,Wn)),t.xp6(1),t.hij("\n    ",t.lcZ(19,12,"labels.buttons.Submit"),"\n  "))},dependencies:[U.lW,Z.ZT,Z.uh,Z.xY,Z.H8,g.X$]})}return e})();const ea=["sharesTable"];function na(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Transaction Date")))}function aa(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.purchasedDate))}}function sa(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Total Shares")))}function oa(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.numberOfShares)}}function ra(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("\n          ",t.lcZ(2,1,"labels.inputs.Purchased/Redeemed Price"),"\n        "))}function ca(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.purchasedPrice)}}function ia(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Status")))}function ua(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1,"\n          "),t._UZ(2,"i",18),t.ALo(3,"statusLookup"),t._uU(4,"\n        "),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("ngClass",t.lcZ(3,2,n.status.code))("matTooltip",n.status.value)}}function la(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Confirm Approve")))}function ma(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",16),t._uU(1,"\n          "),t.TgZ(2,"button",19),t.NdJ("click",function(){const r=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.approve(r.id))}),t.ALo(3,"translate"),t._uU(4,"\n            "),t._UZ(5,"i",20),t._uU(6,"\n          "),t.qZA(),t._uU(7,"\n        "),t.qZA()}2&e&&(t.xp6(2),t.s9C("matTooltip",t.lcZ(3,1,"tooltips.Approve Share")))}function pa(e,o){1&e&&t._UZ(0,"tr",21)}function _a(e,o){1&e&&t._UZ(0,"tr",22)}const ha=function(){return[10,25,50,100]};let da=(()=>{class e{constructor(n,s,a,r){this.sharesService=n,this.route=s,this.dialog=a,this.settingsService=r,this.displayedColumns=["transactionDate","totalShares","redeemedPrice","status","approve"],this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(c=>{this.sharesAccountData=c.shareAccountActionData})}ngOnInit(){this.sharesData=this.sharesAccountData.purchasedShares.filter(n=>"Pending Approval"===n.status.value),this.setShares()}setShares(){this.dataSource=new u.by(this.sharesData),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}approve(n){this.dialog.open(ta,{data:{shareId:n}}).afterClosed().subscribe(a=>{a.approve&&this.sharesService.executeSharesAccountCommand(this.accountId,"approveadditionalshares",{requestedShares:[{id:n}],dateFormat:this.settingsService.dateFormat,locale:this.settingsService.language.code}).subscribe(()=>{const S=this.sharesData.find(H=>H.id===n),j=this.sharesData.indexOf(S);this.sharesData.splice(j,1),this.dataSource.data=this.sharesData,this.sharesTableRef.renderRows()})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(f),t.Y36(m.gz),t.Y36(Z.uw),t.Y36(b.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-approve-shares"]],viewQuery:function(s,a){if(1&s&&(t.Gf(F.NW,7),t.Gf(D.YE,7),t.Gf(ea,7)),2&s){let r;t.iGM(r=t.CRH())&&(a.paginator=r.first),t.iGM(r=t.CRH())&&(a.sort=r.first),t.iGM(r=t.CRH())&&(a.sharesTableRef=r.first)}},decls:51,vars:5,consts:[[1,"container"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["sharesTable",""],["matColumnDef","transactionDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalShares"],["matColumnDef","redeemedPrice"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","approve"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"fa","fa-stop",3,"ngClass","matTooltip"],["mat-raised-button","","color","accent",1,"share-action-button",3,"matTooltip","click"],[1,"fa","fa-check"],["mat-header-row",""],["mat-row",""]],template:function(s,a){1&s&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"table",2,3),t._uU(6,"\n      "),t.ynx(7,4),t._uU(8,"\n        "),t.YNc(9,na,3,3,"th",5),t._uU(10,"\n        "),t.YNc(11,aa,3,3,"td",6),t._uU(12,"\n      "),t.BQk(),t._uU(13,"\n\n      "),t.ynx(14,7),t._uU(15,"\n        "),t.YNc(16,sa,3,3,"th",5),t._uU(17,"\n        "),t.YNc(18,oa,2,1,"td",6),t._uU(19,"\n      "),t.BQk(),t._uU(20,"\n\n      "),t.ynx(21,8),t._uU(22,"\n        "),t.YNc(23,ra,3,3,"th",5),t._uU(24,"\n        "),t.YNc(25,ca,2,1,"td",6),t._uU(26,"\n      "),t.BQk(),t._uU(27,"\n\n      "),t.ynx(28,9),t._uU(29,"\n        "),t.YNc(30,ia,3,3,"th",10),t._uU(31,"\n        "),t.YNc(32,ua,5,4,"td",6),t._uU(33,"\n      "),t.BQk(),t._uU(34,"\n\n      "),t.ynx(35,11),t._uU(36,"\n        "),t.YNc(37,la,3,3,"th",5),t._uU(38,"\n        "),t.YNc(39,ma,8,3,"td",6),t._uU(40,"\n      "),t.BQk(),t._uU(41,"\n\n      "),t.YNc(42,pa,1,0,"tr",12),t._uU(43,"\n      "),t.YNc(44,_a,1,0,"tr",13),t._uU(45,"\n    "),t.qZA(),t._uU(46,"\n\n    "),t._UZ(47,"mat-paginator",14),t._uU(48,"\n  "),t.qZA(),t._uU(49,"\n"),t.qZA(),t._uU(50,"\n")),2&s&&(t.xp6(4),t.Q6J("dataSource",a.dataSource),t.xp6(38),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(3),t.Q6J("pageSizeOptions",t.DdM(4,ha)))},dependencies:[d.mk,U.lW,F.NW,D.YE,D.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,P.gM,g.X$,k.F,q.E],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}table[_ngcontent-%COMP%]   .share-action-button[_ngcontent-%COMP%]{min-width:26px;padding:0 6px;margin:4px;line-height:25px}"]})}return e})();const Aa=function(){return{reject:!0}};let ga=(()=>{class e{constructor(n,s){this.dialogRef=n,this.data=s}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(Z.so),t.Y36(Z.WI))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-reject-share-dialog"]],decls:22,vars:15,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["align","end"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","warn",3,"mat-dialog-close"]],template:function(s,a){1&s&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t._uU(3,"\n"),t.TgZ(4,"div",1),t._uU(5,"\n  "),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._uU(9,"\n"),t.qZA(),t._uU(10,"\n"),t.TgZ(11,"mat-dialog-actions",2),t._uU(12,"\n  "),t.TgZ(13,"button",3),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._uU(16,"\n  "),t.TgZ(17,"button",4),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._uU(20,"\n"),t.qZA(),t._uU(21,"\n")),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"labels.heading.Reject Share")),t.xp6(6),t.AsE("",t.lcZ(8,8,"labels.text.Are you sure you want to reject share with id"),": ",a.data.shareId," ?"),t.xp6(7),t.Oqu(t.lcZ(15,10,"labels.buttons.Cancel")),t.xp6(3),t.Q6J("mat-dialog-close",t.DdM(14,Aa)),t.xp6(1),t.hij("\n    ",t.lcZ(19,12,"labels.buttons.Submit"),"\n  "))},dependencies:[U.lW,Z.ZT,Z.uh,Z.xY,Z.H8,g.X$]})}return e})();const Ua=["sharesTable"];function fa(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Transaction Date")))}function Za(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.purchasedDate))}}function Ta(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Total Shares")))}function ba(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.numberOfShares)}}function Ca(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("\n          ",t.lcZ(2,1,"labels.inputs.Purchased/Redeemed Price"),"\n        "))}function xa(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.purchasedPrice)}}function va(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"labels.inputs.Status")))}function Sa(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1,"\n          "),t._UZ(2,"i",18),t.ALo(3,"statusLookup"),t._uU(4,"\n        "),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("ngClass",t.lcZ(3,2,n.status.code))("matTooltip",n.status.value)}}function qa(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"labels.inputs.Confirm Reject"),"t"))}function Da(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",16),t._uU(1,"\n          "),t.TgZ(2,"button",19),t.NdJ("click",function(){const r=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.reject(r.id))}),t.ALo(3,"translate"),t._uU(4,"\n            "),t._UZ(5,"i",20),t._uU(6,"\n          "),t.qZA(),t._uU(7,"\n        "),t.qZA()}2&e&&(t.xp6(2),t.s9C("matTooltip",t.lcZ(3,1,"tooltips.Reject Share")))}function ya(e,o){1&e&&t._UZ(0,"tr",21)}function Oa(e,o){1&e&&t._UZ(0,"tr",22)}const Pa=function(){return[10,25,50,100]};let Na=(()=>{class e{constructor(n,s,a,r){this.sharesService=n,this.route=s,this.dialog=a,this.settingsService=r,this.displayedColumns=["transactionDate","totalShares","redeemedPrice","status","reject"],this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(c=>{this.sharesAccountData=c.shareAccountActionData})}ngOnInit(){this.sharesData=this.sharesAccountData.purchasedShares.filter(n=>"Pending Approval"===n.status.value),this.setShares()}setShares(){this.dataSource=new u.by(this.sharesData),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}reject(n){this.dialog.open(ga,{data:{shareId:n}}).afterClosed().subscribe(a=>{a.reject&&this.sharesService.executeSharesAccountCommand(this.accountId,"rejectadditionalshares",{requestedShares:[{id:n}],dateFormat:this.settingsService.dateFormat,locale:this.settingsService.language.code}).subscribe(()=>{const S=this.sharesData.find(H=>H.id===n),j=this.sharesData.indexOf(S);this.sharesData.splice(j,1),this.dataSource.data=this.sharesData,this.sharesTableRef.renderRows()})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(f),t.Y36(m.gz),t.Y36(Z.uw),t.Y36(b.g))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-reject-shares"]],viewQuery:function(s,a){if(1&s&&(t.Gf(F.NW,7),t.Gf(D.YE,7),t.Gf(Ua,7)),2&s){let r;t.iGM(r=t.CRH())&&(a.paginator=r.first),t.iGM(r=t.CRH())&&(a.sort=r.first),t.iGM(r=t.CRH())&&(a.sharesTableRef=r.first)}},decls:51,vars:5,consts:[[1,"container"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["sharesTable",""],["matColumnDef","transactionDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalShares"],["matColumnDef","redeemedPrice"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","reject"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"fa","fa-stop",3,"ngClass","matTooltip"],["mat-raised-button","","color","warn",1,"share-action-button",3,"matTooltip","click"],[1,"fa","fa-times"],["mat-header-row",""],["mat-row",""]],template:function(s,a){1&s&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"table",2,3),t._uU(6,"\n      "),t.ynx(7,4),t._uU(8,"\n        "),t.YNc(9,fa,3,3,"th",5),t._uU(10,"\n        "),t.YNc(11,Za,3,3,"td",6),t._uU(12,"\n      "),t.BQk(),t._uU(13,"\n\n      "),t.ynx(14,7),t._uU(15,"\n        "),t.YNc(16,Ta,3,3,"th",5),t._uU(17,"\n        "),t.YNc(18,ba,2,1,"td",6),t._uU(19,"\n      "),t.BQk(),t._uU(20,"\n\n      "),t.ynx(21,8),t._uU(22,"\n        "),t.YNc(23,Ca,3,3,"th",5),t._uU(24,"\n        "),t.YNc(25,xa,2,1,"td",6),t._uU(26,"\n      "),t.BQk(),t._uU(27,"\n\n      "),t.ynx(28,9),t._uU(29,"\n        "),t.YNc(30,va,3,3,"th",10),t._uU(31,"\n        "),t.YNc(32,Sa,5,4,"td",6),t._uU(33,"\n      "),t.BQk(),t._uU(34,"\n\n      "),t.ynx(35,11),t._uU(36,"\n        "),t.YNc(37,qa,3,3,"th",5),t._uU(38,"\n        "),t.YNc(39,Da,8,3,"td",6),t._uU(40,"\n      "),t.BQk(),t._uU(41,"\n\n      "),t.YNc(42,ya,1,0,"tr",12),t._uU(43,"\n      "),t.YNc(44,Oa,1,0,"tr",13),t._uU(45,"\n    "),t.qZA(),t._uU(46,"\n\n    "),t._UZ(47,"mat-paginator",14),t._uU(48,"\n  "),t.qZA(),t._uU(49,"\n"),t.qZA(),t._uU(50,"\n")),2&s&&(t.xp6(4),t.Q6J("dataSource",a.dataSource),t.xp6(38),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(3),t.Q6J("pageSizeOptions",t.DdM(4,Pa)))},dependencies:[d.mk,U.lW,F.NW,D.YE,D.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,P.gM,g.X$,k.F,q.E],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}table[_ngcontent-%COMP%]   .share-action-button[_ngcontent-%COMP%]{min-width:26px;padding:0 6px;margin:4px;line-height:25px}"]})}return e})();function La(e,o){1&e&&t._UZ(0,"mifosx-approve-shares-account")}function wa(e,o){1&e&&t._UZ(0,"mifosx-reject-shares-account")}function Fa(e,o){1&e&&t._UZ(0,"mifosx-close-shares-account")}function Ya(e,o){1&e&&t._UZ(0,"mifosx-activate-shares-account")}function Ia(e,o){1&e&&t._UZ(0,"mifosx-undo-approval-shares-account")}function ka(e,o){1&e&&t._UZ(0,"mifosx-apply-shares")}function Qa(e,o){1&e&&t._UZ(0,"mifosx-redeem-shares")}function Ja(e,o){1&e&&t._UZ(0,"mifosx-approve-shares")}function Ma(e,o){1&e&&t._UZ(0,"mifosx-reject-shares")}let Ra=(()=>{class e{constructor(n){this.route=n,this.actions={Approve:!1,Reject:!1,Close:!1,Activate:!1,"Undo Approval":!1,"Apply Additional Shares":!1,"Redeem Shares":!1,"Approve Additional Shares":!1,"Reject Additional Shares":!1},this.actions[this.route.snapshot.params.name]=!0}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(m.gz))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-actions"]],decls:18,vars:9,consts:[[4,"ngIf"]],template:function(s,a){1&s&&(t.YNc(0,La,1,0,"mifosx-approve-shares-account",0),t._uU(1,"\n"),t.YNc(2,wa,1,0,"mifosx-reject-shares-account",0),t._uU(3,"\n"),t.YNc(4,Fa,1,0,"mifosx-close-shares-account",0),t._uU(5,"\n"),t.YNc(6,Ya,1,0,"mifosx-activate-shares-account",0),t._uU(7,"\n"),t.YNc(8,Ia,1,0,"mifosx-undo-approval-shares-account",0),t._uU(9,"\n"),t.YNc(10,ka,1,0,"mifosx-apply-shares",0),t._uU(11,"\n"),t.YNc(12,Qa,1,0,"mifosx-redeem-shares",0),t._uU(13,"\n"),t.YNc(14,Ja,1,0,"mifosx-approve-shares",0),t._uU(15,"\n"),t.YNc(16,Ma,1,0,"mifosx-reject-shares",0),t._uU(17,"\n")),2&s&&(t.Q6J("ngIf",a.actions.Approve),t.xp6(2),t.Q6J("ngIf",a.actions.Reject),t.xp6(2),t.Q6J("ngIf",a.actions.Close),t.xp6(2),t.Q6J("ngIf",a.actions.Activate),t.xp6(2),t.Q6J("ngIf",a.actions["Undo Approval"]),t.xp6(2),t.Q6J("ngIf",a.actions["Apply Additional Shares"]),t.xp6(2),t.Q6J("ngIf",a.actions["Redeem Shares"]),t.xp6(2),t.Q6J("ngIf",a.actions["Approve Additional Shares"]),t.xp6(2),t.Q6J("ngIf",a.actions["Reject Additional Shares"]))},dependencies:[d.O5,Ln,Yn,Qn,Rn,jn,$n,Kn,da,Na]})}return e})(),E=(()=>{class e{constructor(n){this.sharesService=n}resolve(n){const s=n.paramMap.get("shareAccountId")||n.parent.paramMap.get("shareAccountId");return this.sharesService.getSharesAccountData(s,!1)}static#t=this.\u0275fac=function(s){return new(s||e)(t.LFG(f))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})(),K=(()=>{class e{constructor(n){this.sharesService=n}resolve(n){const s=n.paramMap.get("name"),a=n.paramMap.get("shareAccountId")||n.parent.parent.paramMap.get("shareAccountId");switch(s){case"Apply Additional Shares":case"Redeem Shares":case"Approve Additional Shares":case"Reject Additional Shares":return this.sharesService.getSharesAccountData(a,!0);default:return}}static#t=this.\u0275fac=function(s){return new(s||e)(t.LFG(f))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})(),W=(()=>{class e{constructor(n){this.sharesService=n}resolve(n){const s=n.parent.parent.paramMap.get("clientId");return this.sharesService.getSharesAccountTemplate(s)}static#t=this.\u0275fac=function(s){return new(s||e)(t.LFG(f))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})(),tt=(()=>{class e{constructor(n){this.sharesService=n}resolve(n){const s=n.paramMap.get("shareAccountId");return this.sharesService.getSharesAccountData(s,!0)}static#t=this.\u0275fac=function(s){return new(s||e)(t.LFG(f))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();function Ea(e,o){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.hij("\n              ",t.lcZ(2,1,n.sharesAccountData.timeline.activatedDate),"\n            ")}}function ja(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("\n              ",t.lcZ(2,1,"labels.text.Not Activated"),"\n            "))}function Ha(e,o){if(1&e&&(t.TgZ(0,"td"),t._uU(1,"\n              "),t._UZ(2,"mifosx-external-identifier",6),t._uU(3,"\n            "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.s9C("externalId",n.sharesAccountData.externalId)}}function Ba(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("\n              ",t.lcZ(2,1,"labels.inputs.Unassigned"),"\n            "))}function Ga(e,o){if(1&e&&(t.TgZ(0,"td"),t._uU(1,"\n              "),t._UZ(2,"mifosx-account-number",7),t._uU(3,"\n            "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.s9C("clientId",n.sharesAccountData.clientId),t.s9C("accountId",n.sharesAccountData.savingsAccountId),t.s9C("accountNo",n.sharesAccountData.savingsAccountNumber)}}function $a(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("\n              ",t.lcZ(2,1,"labels.inputs.Unassigned"),"\n            "))}const za=[{path:"",data:{title:"Shares",breadcrumb:"Shares",routeParamBreadcrumb:!1},children:[{path:"create",data:{title:"Create Shares Account",breadcrumb:"Create Shares Account"},component:fn,resolve:{sharesAccountTemplate:W}},{path:":shareAccountId",data:{title:"Shares Account View",routeParamBreadcrumb:"shareAccountId"},children:[{path:"",component:Zt,resolve:{sharesAccountData:E},children:[{path:"",redirectTo:"general",pathMatch:"full"},{path:"general",component:(()=>{class e{constructor(n){this.route=n,this.route.data.subscribe(s=>{this.sharesAccountData=s.sharesAccountData})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(m.gz))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-general-tab"]],decls:97,vars:38,consts:[[1,"tab-container","mat-typography"],[1,"shares-account-tables","layout-row","gap-2percent"],[1,"flex-49"],[1,"table-headers"],[4,"ngIf"],[1,"r-amount"],[3,"externalId"],["accountType","2",3,"clientId","accountId","accountNo"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"div",2),t._uU(5,"\n      "),t.TgZ(6,"h4",3),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._uU(9,"\n      "),t.TgZ(10,"table"),t._uU(11,"\n        "),t.TgZ(12,"tbody"),t._uU(13,"\n          "),t.TgZ(14,"tr"),t._uU(15,"\n            "),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._uU(19,"\n            "),t.YNc(20,Ea,3,3,"td",4),t._uU(21,"\n            "),t.YNc(22,ja,3,3,"td",4),t._uU(23,"\n          "),t.qZA(),t._uU(24,"\n          "),t.TgZ(25,"tr"),t._uU(26,"\n            "),t.TgZ(27,"td"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t._uU(30,"\n            "),t.TgZ(31,"td"),t._uU(32),t.qZA(),t._uU(33,"\n          "),t.qZA(),t._uU(34,"\n          "),t.TgZ(35,"tr"),t._uU(36,"\n            "),t.TgZ(37,"td"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._uU(40,"\n            "),t.YNc(41,Ha,4,1,"td",4),t._uU(42,"\n            "),t.YNc(43,Ba,3,3,"td",4),t._uU(44,"\n          "),t.qZA(),t._uU(45,"\n          "),t.TgZ(46,"tr"),t._uU(47,"\n            "),t.TgZ(48,"td"),t._uU(49),t.ALo(50,"translate"),t.qZA(),t._uU(51,"\n            "),t.YNc(52,Ga,4,3,"td",4),t._uU(53,"\n            "),t.YNc(54,$a,3,3,"td",4),t._uU(55,"\n          "),t.qZA(),t._uU(56,"\n        "),t.qZA(),t._uU(57,"\n      "),t.qZA(),t._uU(58,"\n    "),t.qZA(),t._uU(59,"\n\n    "),t.TgZ(60,"div",2),t._uU(61,"\n      "),t.TgZ(62,"h4",3),t._uU(63),t.ALo(64,"translate"),t.qZA(),t._uU(65,"\n      "),t.TgZ(66,"table"),t._uU(67,"\n        "),t.TgZ(68,"tbody"),t._uU(69,"\n          "),t.TgZ(70,"tr"),t._uU(71,"\n            "),t.TgZ(72,"td"),t._uU(73),t.ALo(74,"translate"),t.qZA(),t._uU(75,"\n            "),t.TgZ(76,"td",5),t._uU(77),t.ALo(78,"formatNumber"),t.qZA(),t._uU(79,"\n          "),t.qZA(),t._uU(80,"\n          "),t.TgZ(81,"tr"),t._uU(82,"\n            "),t.TgZ(83,"td"),t._uU(84),t.ALo(85,"translate"),t.qZA(),t._uU(86,"\n            "),t.TgZ(87,"td",5),t._uU(88),t.ALo(89,"formatNumber"),t.qZA(),t._uU(90,"\n          "),t.qZA(),t._uU(91,"\n        "),t.qZA(),t._uU(92,"\n      "),t.qZA(),t._uU(93,"\n    "),t.qZA(),t._uU(94,"\n  "),t.qZA(),t._uU(95,"\n"),t.qZA(),t._uU(96,"\n")),2&s&&(t.xp6(7),t.Oqu(t.lcZ(8,18,"labels.heading.Shares Details")),t.xp6(10),t.Oqu(t.lcZ(18,20,"labels.inputs.Activated On")),t.xp6(3),t.Q6J("ngIf",a.sharesAccountData.timeline.activatedDate),t.xp6(2),t.Q6J("ngIf",!a.sharesAccountData.timeline.activatedDate),t.xp6(6),t.Oqu(t.lcZ(29,22,"labels.inputs.Currency")),t.xp6(4),t.AsE("",a.sharesAccountData.currency.name," [",a.sharesAccountData.currency.code,"]"),t.xp6(6),t.Oqu(t.lcZ(39,24,"labels.inputs.External Id")),t.xp6(3),t.Q6J("ngIf",a.sharesAccountData.externalId),t.xp6(2),t.Q6J("ngIf",!a.sharesAccountData.externalId),t.xp6(6),t.Oqu(t.lcZ(50,26,"labels.inputs.Linked Savings Account(Dividend Posting)")),t.xp6(3),t.Q6J("ngIf",a.sharesAccountData.savingsAccountNumber),t.xp6(2),t.Q6J("ngIf",!a.sharesAccountData.savingsAccountNumber),t.xp6(9),t.Oqu(t.lcZ(64,28,"labels.heading.Account Summary")),t.xp6(10),t.Oqu(t.lcZ(74,30,"labels.inputs.Pending for Approval Shares")),t.xp6(4),t.Oqu(t.lcZ(78,32,a.sharesAccountData.summary.totalPendingForApprovalShares)),t.xp6(7),t.Oqu(t.lcZ(85,34,"labels.inputs.Approved Shares")),t.xp6(4),t.Oqu(t.lcZ(89,36,a.sharesAccountData.summary.totalApprovedShares)))},dependencies:[d.O5,X.e,$.t,g.X$,q.E,Q.w],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   .performance-history-container[_ngcontent-%COMP%]{border:1px solid;padding:1%;margin-bottom:20px}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}span[_ngcontent-%COMP%]{margin:.5em 0}"]})}return e})(),data:{title:"Shares Account General",breadcrumb:"General",routeParamBreadcrumb:!1},resolve:{sharesAccountData:E}},{path:"transactions",component:Ft,data:{title:"Shares Account Transactions",breadcrumb:"Transactions",routeParamBreadcrumb:!1}},{path:"charges",component:ie,data:{title:"Shares Account Charges",breadcrumb:"Charges",routeParamBreadcrumb:!1}},{path:"dividends",component:fe,data:{title:"Shares Account Dividends",breadcrumb:"Dividends",routeParamBreadcrumb:!1}}]},{path:"edit",data:{title:"Edit Shares Account",breadcrumb:"Edit",routeParamBreadcrumb:!1},component:On,resolve:{sharesAccountAndTemplate:tt}},{path:"actions/:name",data:{title:"Shares Account Actions",breadcrumb:"Actions",routeParamBreadcrumb:"name"},component:Ra,resolve:{shareAccountActionData:K}}]}]}];let Xa=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({providers:[E,W,tt,K],imports:[m.Bz.forChild(za),m.Bz]})}return e})();var Va=l(14958),Ka=l(33734),Wa=l(78434);let ts=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[Va.m,Ka.D,Wa.o,Xa]})}return e})()}}]);